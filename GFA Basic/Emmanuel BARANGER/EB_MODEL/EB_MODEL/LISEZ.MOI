********* *********     *****  *****  *******  *********   ********* ***
********* **********    ************ ********* **********  ********* ***
***       ***    ****   ***  **  *** ***   *** ***     *** ***       ***
***       ***    ****   ***  **  *** ***   *** ***     *** ***       ***
******    **********    ***  **  *** ***   *** ***     *** ******    ***
******    **********    ***      *** ***   *** ***     *** ******    ***
***       ***    ****   ***      *** ***   *** ***     *** ***       ***
***       ***    ****   ***      *** ***   *** ***     *** ***       ***
********* **********    ***      *** ********* **********  ********* ********
********* *********     ***      ***  *******  *********   ********* ********

Le modeleur universel pour "ray-traceur" sur ATARI.

M.BARANGER Emmanuel … tous les utilisateurs de EB_MODEL.        le 31/03/1996

   EB_MODEL est le nouveau nom de EB_EDPOV. Le seul modeleur multi-formats
du domaine public sur les machines de la gamme ATARI.

    En fait, son nom complet est :

      Emmanuel Baranger Modeleur Universel.

   Certains trouverons peut ˆtre cela un peut vaniteux de ma part, mais
ce  nouveau nom se comprend facilement. Les options d'importation et
d'exportation ‚tant maintenant r‚alis‚ … partir de modules externes au
programme, il est raisonnable de penser que dans l'absolu, mon modeleur
est apte … charger et sauver tous les formats de fichiers vectoriels
existants. D'ailleurs, … l'heure actuelle sont d‚j… r‚alis‚s ( pour
l'importation principalement) les formats 3DS (3D Studio PC), POV et INC
( les scripts au format de P.O.V ), DAT (les scripts au format de CLOE ).
Sachez que la plupart des modules d'exportation ne sont pr‚sents que sur la
version enregistr‚e de EB_MODEL.
Il est pr‚vu aussi un programme parallŠle qui permettra de cr‚er directement
des fichiers FLI ( animations 256 couleurs ou plus ) en utilisant les
les fichiers scripts pour animation cr‚‚s par EB_MODEL (et mˆme des
animations MPEG, si...si...c'est en pr‚paration.

   Avant toutes choses, apprenez que mon modeleur est passer … 150 Francs
Fran‡ais minimum pour l'enregistrement. Et oui, tout augmente.
Remarquez quand mˆme que depuis plus d'un an, il ‚tait rest‚ … 50 FF et que
c'‚tait l… un prix ridicule. AprŠs deux ans de travail acharn‚ et un
programme qui devient de plus en plus stable et puissant, il ‚tait temps que
je r‚ajuste son prix. Quoique, 150 FF reste encore dans le domaine du
raisonnable lorsque l'on voit ce qui est fait ailleurs.

   J'espŠre donc que vous comprendrez facilement ce changement de prix et que
vous continuerez … vous enregistrer nombreux, car c'est grƒce … vous que
EB_MODEL est devenu ce qu'il est aujourd'hui.

   Depuis la version 2.70a, EB_MODEL est livr‚ soit en version ic“nes
couleurs, soit en version ic“nes monochromes. Ce qu'il faut savoir sur leur
petites diff‚rences. En fait, se sont les deux mˆmes versions … une
exeption prŠs. Les ic“nes de la version couleurs sont en... euh! ah! oui...
sont en couleurs. Tandis que dans l'autre, elles sont en monochromes. Ainsi,
avec la version monochrome, EB_MODEL est compatible avec les ancien STF et
STE. Tandis que la version couleur trouve tout son sens sur un TT ou un
FALCON, voir mˆme un MEDUSA. Sachez aussi que la version monochrome peut
ˆtre utilis‚e sur toute la gamme. Tandis que la version couleur ne fonctionne
qu'a partir des STE. Les ic“nes couleurs prenant environt 300 Ko de m‚moire,
si vous ˆtes un peu juste de se cot‚ (cot‚ m‚moire ‚videment), je vous
conseil la version monochrome. Si vous n'avez que la version couleur,
n'h‚sitez pas, envoyez moi une disquette et une envelloppe timbr‚e et je
vous la retournerais le plus vite possible.

   Nouveaut‚s depuis la version 2.74a. Tout d'abord, le fichier DEFAUT.DEF.
Ce fichier est un fichier ASCII permettant de param‚trer la cam‚ra et les
sources de lumiŠre au lancement de EB_MODEL lorsque aucune scŠnes ne se
charge. Toutes les informations utiles pour sa modification sont indiqu‚es
directement dans le fichier. Cela peut ˆtre trŠs utile si vous ˆtes habitu‚
… un environement sp‚cifique de travail. Beaucoup travail toujours dans les
mˆme condition. A savoir une cam‚ra toujours plac‚e au mˆme endroit et une,
deux, trois ou plus lumiŠres d‚j… plac‚es et paramŠtr‚es. A vous de voir. et
merci … J‚r‚my PONS pour cette id‚e sympa.

   Toujours nouveau depuis la 2.74a, la possibilit‚ d'appeller la fenˆtre
de modification d'objet directement en double cliquant sur l'objet que l'on
veut modifier. Se double clique n'est bien sur actif que dans les vues en 2
dimensions. Cela fonctionne tout aussi bien pour les lumiŠres et la cam‚ra.
Vous verrez, on s'y fait trŠs vite. Et merci … Jean Fran‡ois BAILLY pour
cette id‚e sympa.

   Tiens, au fait, les options de copie ont elles aussi chang‚es. Il est
maintenant possible de copier dans une direction quelconque. Il suffit pour
cela d'inquer une distance de copie sur les 3 axes. Enfin, vous verrez cela
vous mˆme. Je suis sur que vous trouverez quoi en faire.

   Pour finir avec les nouveaut‚es de la 2.74a, voici un nouveau module
d'importation. IMPSPLIN.DRV. Ce n'est pas, contrairement aux autres, un
module qui permet d'importer des objets d'autres logiciels. Non, en fait, il
permet de r‚aliser des courbes B-Splines et de plaquer le long de ces courbes
l'unes des primitives disponibles. Cela s'avŠre trŠs pratique pour r‚aliser
des serpents, tubulures, lettres et toutes pleins d'autres formes. Nottament
des Blobs. A propos de ce module, sachez que lorsque la souris est plac‚e
dur un point existant et que l'on clique avec le bouton droit, on efface le
point d‚sign‚. Ce module est loin d'ˆtre parfait, mais, vous avez les sources
alors...

*****************************************************************************
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   Et pour ‚viter les questions g‚nantes : Non !!!! la bibliothŠque n'est
pas encore active. Elle est l…, mais elle ne sert … rien. Idem pour la
fenˆtre de calage automatique des objets. Alors, ne me demandez plus comment
elles fonctionnent. ELLES NE FONCTIONNENT PAS ENCORE !!!!
   Eh! oh! suit pas une machine moi ! Bip Bip ! Quoique... des fois je m'le
demmande ????
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
*****************************************************************************

   Depuis quelques versions d‚j…, EB_MODEL est trop gros pour ˆtre utilis‚
sans disque dur.J'en suis navr‚ pour ceux qui n'en n'ont pas, mais, la
puissance est … ce pris.

   Voici la structure de mon disque dur au niveau de EB_MODEL :
   Je vous conseil de la suivre pour une bonne utilisation du programme.

   \EB_MODEL
      |
      |----\SYS
      |      |
      |      |----\ENGLISH    (Les ressources en anglais)
      |      |
      |      |----\FRANCAIS   (Les ressources en francais)
      |      |
      |  ALERTES.RSC          \
      |  EBMODSTF.RSC          \
      |  EBMODST2.RSC           \ Les ressources.
      |  EB_MODEL.RSC           /
      |  TEXTURES.RSC          /
      |  TEXTUSTF.RSC         /
      |  EB_TEXTU.OVL         Le fichier des textures pr‚-d‚finies
      |  EB_TEXTU.IDX         La table d'indexs des textures pr‚-d‚finies
      |  EB_PIGME.OVL         Le fichier des pigments pr‚-d‚finies
      |  EB_PIGME.IDX         La table d'indexs des pigments pr‚-d‚finies
      |  EB_NORMA.OVL         Le fichier des normals pr‚-d‚finies
      |  EB_NORMA.IDX         La table d'indexs des normals pr‚-d‚finies
      |  EB_FINIS.OVL         Le fichier des finishs pr‚-d‚finies
      |  EB_FINIS.IDX         La table d'indexs des finishs pr‚-d‚finies
      |  EB_COULE.OVL         Le fichier des couleurs pr‚-d‚finies
      |  EB_COULE.IDX         La table d'indexs des couleurs pr‚-d‚finies
      |
      |
      |----\MODULES           (Les modules d'import/export)
      |        |
      |        \SOURCES       Les sources en GFA de IMPSPLINE.DRV
      |
      |----\OUTILS            (Les modules utilisateurs)
      |  EB_IMPRI.DRV         Le module d'impression des scŠnes
      |  EB_SURPR.DRV         Un module de d‚monstration
      |        |
      |        \SOURCES       Les sources en GFA de EB_SURPR.DRV
      |
   EBMODSTF.PRG               (Le programme sans les ic“nes couleurs)
   EBS_STRU.ASC               (Le format des fichier EBS)
   EB_ICONE.RSC               (Ic“nes pour le bureau -Couleur/Mono - )
   EB_MODEL.PRG               (Le programme avec les ic“nes couleurs)
   OVERLAY.OVL                (Routine asm pour version couleur sur STE/TT)

   Bien sur, ceci est le contenu minimum. En plus, vous pouvez trouver les
fichiers de configurations, les fichiers de d‚finitions des textures et
couleurs. Vous pouvez aussi (comme moi) ajouter des sous-r‚pertoires pour
les autres types de fichiers (ex : BICUBIC, FORMES, FRACTALS, QUARTIC,
QUADRIC, NEON-3D, INSHAPE, IMAGINE, 3DS...etc...)

   Voici donc la plus grande nouveaut‚ impl‚ment‚e depuis la version 2.71b.
Les modules externes de type utilisateurs. Avec EB_MODEL, vous trouverez le
source GFA du module EB_SURPR.DRV. Il est l… pour que tout les programmeurs
qui le d‚sirent, ‚crivent leur propres modules. En dehors du module
d'impressions que j'ai r‚alis‚ et qui, franchement, n'a que trŠs peu
d'utilit‚, il n'y a pas encore de module … l'heure actuelle.
   A vous de jouer...

   De mˆme, pour ceux qui ne le savent pas encore, P.O.V. permet, lui aussi,
une organisation du mˆme type. Voici donc l'organisation de mon disque dur
en ce qui concerne P.O.V.

   \POVRAY_2
      |
      |----\CALCULER          (Les images calcul‚es par P.O.V.)
      |
      |
      |----\INCLUDES          (Les includes principaux : COLORS, TEXTURES...)
      |      |
      |      |----\IMAGES.GIF (Les images GIF pour mapping et Bump mapping)
      |      |
      |      |----\IMAGES.TGA (Les images TGA pour mapping et Bump mapping)
      |      |
      |      |----\IMAGES.IFF (Les images IFF pour mapping et Bump mapping)
      |
      |----\SCENES            (Les scripts g‚n‚rer par EB_MODEL)
      |      |
      |      |----\EGLISE     (Le projet EGLISE)
      |      |
      |      |----\PIECE_TT   (Le projet PIECE_TT)
      |
      |
   FTP30_82.TTP               (La version rapide de P.O.V.2)
   POV30_82.TTP               (Et oui, je garde aussi P.O.V. pour comparer)
   EB_MODEL.DEF               (Le fichier de commande cr‚‚ par EB_MODEL)
   POVRAY.DEF                 (La, juste les paramŠtres utiles … FTPOV)
   COMMAND.TOS                (un shell c'est toujours utile pour travailler)
   ANIMATIO.BAT               (Pour cr‚er des animations … partir du shell,
                               comme quoi, le shell peut ˆtre utile. Quoique
                               bient“t, EB_ANIME serat disponible... Hum!
                               chuuuttt!!!, c'est en cours...)

   Bien s–r, ceci n'est qu'un exemple d'organisation, … vous de faire
comme vous le d‚sirez. Mais, un peu de structure ne fait pas de mal et
am‚liore grandement le travail. A vous de voir...

   A au fait, vous avez peut ˆtre remarqu‚ que maintenant (en fait depuis la
version 2.61a), EB_MODEL sauvegard‚ ses scripts dans des r‚pertoires. En fait
cela permet d'avoir touts les fichiers concernant une mˆme images au mˆme
endroit. C'est plus pro quoi !


   Entrons maintenant dans le vif du sujet. En attendant que je reprenne
mon travail sur la documentation je vous ai ‚cris ce petit texte pour vous
donner un aper‡u des fonctions avanc‚es. Tout d'abord, un r‚capitulatif des
touches utiles :

   Pour changer la langue du programme, il faut simplement remplacer les
ressources en place par les ressources du r‚pertoire de la langue d‚sir‚e.
A l'heure actuelle, seul des ressources anglais et fran‡ais existent.

   Dans les vues en 2 dimensions (Face, Droite, Dessus, Dos, gauche et
dessous), l'objet actif est entour‚ d'une boite en pointill‚s. Cette boite
comporte aussi dix points de contr“le. Neuf repr‚sent‚s par des carr‚s et un
par un disque.
   Ses points de contr“le s'utilisent tous de la mˆme fa‡on. Il suffit de
cliquer dessus et tout en maintenant le clique, de d‚placer la souris.

   Celui qui se trouve au centre permet de d‚placer l'objet … la souris.

   Les quatres coins permettent de modifier la taille sur deux axes en mˆme
temps.

   Les quatres cot‚s permettent de modifier la taille sur un seul axe … la
fois.

   Et pour finir, celui qui … l'aspect d'un disque permet de faire tourner
l'objet par rapport … son centre.

   Lors du d‚placement d'un objet directement … la souris (par le point de
contr“le centrale), si vous maintenez la touche CONTROL enfonc‚e, le
d‚placement sera limit‚ … l'axe horizontal et ce quelque soit la vue 2D dans
laquelle vous serez. Si vous maintenez la touche SHIFT GAUCHE enfonc‚, c'est
l'axe vertical qui servira de r‚f‚rence au d‚placement.

   De mˆme, lors de rotation d'objets directement … la souris, si vous
maintenez la touche CONTROL enfonc‚e, la rotation aura lieu autour de l'axe
horizontal, tandis qu'avec la touche SHIFT GAUCHE, la rotation se fera autour
de l'axe vertical. Petit suppl‚ment, si vous maintenez la touche ALTERNATE
enfonc‚e, c'est autour des trois axes simultan‚ment qu'auront lieu les
rotations.

   De plus, si lorsque vous cliquez sur un objet qui n'est pas actif, celui-
ci deviendra l'objet actif. Une exception tout de mˆme, si vous maintenez une
touche SHIFT enfonc‚e vous pourrez valider plusieurs objets en mˆme temps. A
partir de l…, si vous d‚placez l'un des objets actifs, tous les autres
suivront le mouvement. Pour retrouver un seul objet actif, il vous suffira
de cliquer avec le bouton droit dans la fenˆtre de vue.

  Nouveaut‚ sur les C.S.G. depuis la 2.55a. Les C.S.G. peuvent enfin subirent
rotation, d‚placement et changement de taille sans problŠmes. De plus, il est
possible de les copier (mˆme en copie multiple). Lors de la cr‚ation d'un
script pour POV, vous remarquerez qu'une C.S.G. copi‚e plusieurs fois dans
le modeleur n'est d‚clar‚ qu'une fois dans le script. Bref, une gestion CSG
beaucoup plus puissante et agr‚able.

   Depuis la 2.58a, tous les ascenceurs verticaux du programme (… l'exception
de ceux de la fenˆtre de vue) sont utilisables comme des ascenceurs GEM
classique.
C'est … dire : Si l'on clique sur le fils, on se place directement l… ou on
le d‚sire. Si l'on clique dans le pŠre au dessus ou en dessous du fils, on
se d‚place par page et, si elles exeistent, on peut aussi utiliser les
ic“nes flŠche pour avancer ou reculer d'une ligne, voir mˆme d'aller
directement au d‚but ou … la fin de la liste.
   Pour la liste des textures et des couleurs pr‚d‚finies, si l'on clique sur
le fils avec le bouton gauche, on d‚place le fils et la mise … jour de la
liste se fait aprŠs le relachement. Par contre, si l'on clique sur le fils
avec le bouton droit, la liste est mise … jour en temps r‚‚l.

   Autre nouveaut‚, la possiblit‚ de modifi‚ les tores et les troncs de c“ne
de maniŠre bien plus puissante. Dans la fenˆtre de modification, pour ces
deux primitive, il apparaŒt une nouvelle zone de saisie nomm‚e 'Rapport'.
   Depuis la version 2.61a, la primitive "Tronc de c“ne" est la seule
disponible pour la r‚alistion de c“ne, tronc de c“ne et tube. Ainsi, par la
place lib‚r‚e dans les ic“nes, j'ai pu ajouter deux nouvelles primitives...
Le triangle...si, si et la boite aux bords arrondis. Et oui, enfin des jolies
boites. Ces deux nouvelles primitives sont aussi affect‚es par le 'Rapport'
cit‚ ci-dessus.

      Pour les troncs de c“ne, il s'agit du rapport qui existe entre le rayon
du grand et du petit disque. Exemple, si le rapport et de 80%, alors le petit
disque serat r‚duit … 80% de la taille du grand disque. Par cons‚quent, avec
un rapport de 0%, vous obtiendrez un c“ne et avec un rapport de 100% un tube.

      Pour les tores, c'est un peu plus compliqu‚. Et oui, il va vous falloir
faire des calculs. D‚sol‚. Donc, si l'on considŠre un tore, on peut d‚finir
trois rayons diff‚rents. Le premier que nous appelerons GR (pour Grand Rayon)
est le rayon ext‚rieur du tore. Le second RI (Rayon Int‚rieur) et le rayon
partant du centre du tore et allant au centre du boudin formant le tore. Le
troisiŠme PR (Petit Rayon) ‚tant le rayon du boudin formant le tore. Voil…,
une fois tout cela pos‚, il reste … savoir … quoi correspond le rapport de
tore. Et bien, voici d‚j… la formule : Rapport = RI/GR

   Et comme un petit dessin et plus agr‚able qu'un long discour :

       Centre du Boudin               Centre du tore
              V                              V
       |      |<------------RI-------------->|
       |------|------|-----------------------|--- -  -   -   -   -   -     -
       |<-PR->|      |                       |
       |<----------------GR----------------->|

   Et maintenant, un exemple en chiffres :

      Si le rayon ext‚rieur est de 1 et le rapport et de 80%, on a :

         Le rayon int‚rieur ‚gale (GR/100)*Rapport => (1/100)*80  = 0.8
         Le rayon du boudin ‚gale GR-RI            => (1-0.8)     = 0.2
   -------------------------------------------------------------------
      Si le rayon int‚rieur est de 75 et le petit rayon est de 12, on a :

         Le rayon ext‚rieur ‚gale RI+PR            => (75+12)     = 87
         Le Rapport ‚gale (RI/GR)*100              => (75/87)*100 = 86.20689.

                  Le Rapport ‚tant un entier de 0 … 100, il nous faut
                  arrondir le r‚sultat. On obtient donc un Rapport de 86%

      Effectivement, arrondir le rapport ne permet pas de respecter un plan
pour ceux qui travail d'abord sur papier. Mais, aprŠs quelques essais, vous
vous rendrez compte que les diff‚rence sont assez minimes pour que l'on
ouisse ne pas en tenir compte. Et puis, vous pouvez toujours modifier le
script.

   Pour les triangle, depuis la 2.70a, tout … chang‚, puisque maintenant,
il sont g‚r‚s par la position de leur sommets dans l'univers. C'est … dire
que dans la fenˆtre de modification d'objets, ce n'est plus POSITION/TAILLE/
ROTATION que vous pourrez modifier pour cette primitive, mais tout simplement
SOMMET1/SOMMET2/SOMMET3. D'ailleurs, si cela fonctionne bien, cela me pose
tout de mˆme encore quelques problŠmes. Nottament lors de la gestion des
triangles … la souris. Aussi, ne vous ‚tonnez pas si quelques r‚actions ne
sont pas logiques. Merci d'avance.

   J'espŠre que c'est clair.

   Pour finir avec ce rapport, la boite … bords arrondis. Et bien, le rapport
indique en pourcentage la taille du rayon des bords par rapport … la boite.
Pour un rapport de 20%, le rayon sera de 0.10 unit‚ soit 0.20 sur la largeur.
Pour un objet qui fait 1 unit‚ de taille, cela correspond bien … 20%.

      Encore plus...Depuis la 2.58a, le calcul automatique du positionnement
des images mapp‚es et des images "Bump" mapp‚es sont correctes. En fait, il
ne manquait pas grand choses. Pour les connaisseurs, les calculs ‚taient fait
avec des entiers...Hors, il arrive parfois que le calcul ne tombe pas juste.
De ce fait, jusqu'a la version 2.58a, les mappings n'‚taient pas toujours
corrects.

      Toujours plus... Et oui, vous avez maintenant la possiblit‚ de cr‚er
des BLOBS avec EB_MODEL. Rappelons que les BLOBS sont des assemblages de
sphŠres qui interagissent les unes sur les autres et qui permettent d'obtenir
des formes que l'on ne pourrais faire autrement. Par exemple, des
musculatures trŠs r‚alistes (surtout en animation) etc...
   Pour cr‚er un blob,il vous suffit de cr‚er les diff‚rentes sphŠres qui la
composent, puis, par l'ic“ne outils (la paire de ciseaux) de choisir BLOBS
dans le popup qui apparaŒt, l…, s'ouvre une fenˆtre avec la liste des objets.
Il vous suffit d'activer les diff‚rentes sphŠres, de saisir au clavier la
valeur de "threshold" et de cliquer sur le bouton "BLOBS" et l…, Oh!!!
magie de l'informatique, un blob est cr‚‚. Chaque composante du blob peut
avoir une force d'attraction diff‚rente. Par d‚faut, lors de la cr‚ation
elle est … 1.0. Comme POV2 ne peut assigner de texture au composante d'un
BLOB, la valeur de cette force d'attraction se trouve dans la fenˆtre
PIGMENT … la position de la translation sur X. Je sais, ce n'est pas pratique
mais le temps m'a manqu‚ pour faire mieux. Ce serat pour la prochaine fois.

   Version 2.60a, mois de F‚vrier 1996. Alors, l…, on entre dans des grosses
modifications au niveau de l'interface. Tout d'abord, les zones ‚ditables …
la main. Elles sont pour la pluparts totalement revues. Ainsi que les zones
ou la saisie de valeur se fesait par POPUP. Maintenant, dans presque tous les
cas, par un clique gauche de la souris sur la zone … ‚dit‚, on ouvre un tout
petit formulaire qui permet de saisir la donn‚e. Par un clique droit, lorsque
cela est possible, le POPUP de saisie de valeur peut toujours ˆtre appel‚.
   Je sais, au premier abord, cela peut apparaitre quelque peu contraignant.
Mais, … la longue, cela ne gˆne pas. De plus, cela permet … EB_MODEL de
v‚rifier toute les saisies et par cons‚quent de r‚ajuster les valeurs lorsque
celles entr‚e sortent des limites autoris‚es. Fini donc les valeurs presque
infinis qui pouvaient faire planter le modeleur.
   On continue... Allez donc faire un tout dans les textures... Et oui, l…
aussi, cela change. Il est maintenant possible de modifi‚, ajout‚ ou effacer
des textures … la liste des textures pr‚d‚finies. Mais, il est ‚galement
possible de g‚rer une liste pour les PIGMENTs, les NORMALs, les FINISHs et
les COULEURs. Ses listes sont totalement cr‚‚s … partir de EB_MODEL. Elles
sont modifiables et sauvegardables … volont‚. De plus, de nouvelles options
sont apparus. Dans les PIGMENTs tous d'abord, j'ai ajout‚ deux nouveaux
motifs que j'avais oubli‚, MANDEL et RADIEL. Et surtout, la possiblit‚ de
cr‚ation de textures en couches est enfin disponible. Et ce, jusqu'a 120
couches de textures. Pas mal non ???
   Et si les couches sont compos‚es de textures en couches... et bien, j'ai
test‚ sur un niveau de r‚ccurence et cela fonctionne. Plus loin je ne sais
pas, mais aprŠs tout, qui est capable de cr‚er une texture compos‚e de
14400 couches (et oui, 120*120) et c'est ce que donne un seul niveau de
r‚ccurence. 120 couches compos‚es de textures de 120 couches chacunes.
   Mais, ce n'est pas tout. Dans cette partie de gestion des textures en
couches, il est aussi possible d'indiquer … EB_MODEL que l'on d‚sire
r‚aliser juste un carrelage compos‚ de deux textures. Pour les connaisseurs,
c'est la fonction TILES de P.O.V.II.

   Pour une raison de pseudo compatibilit‚ avec WINDAUBE... Heu ! si...si.
la sortie du programme peut aussi se faire par la combainison de touche
ALTERNATE F4 et la fermeture des fenˆtre par CONTROL F4.

   Il existe aussi quelques touches bien utiles :


           'U'  Pour centrer la scŠne entiŠre sur le centre de l'univers.
           'C'  Pour un centrage automatique sur l'objet actif. Depuis la
                version 2.60, cette option est une bascule. L'effet de
                centrage automatique reste actif jusqu'a ce que vous d‚cidiez
                de l'enliver. C'est une bascule ON/OFF.
           'T'  Pour un centrage complet de la scŠne dans la fenˆtre de vue
                C'est une bascule ON/OFF (pas toujours parfait, mais j'y
                travail)
         'TAB'  Pour passer … l'objet suivant
   'Shift TAB'  Pour passer … l'objet pr‚c‚dent
    le curseur  Pour se d‚placer dans la fenˆtre de vue. (Plus rapidement
                avec Shift)
           'W'  Pour changer de fenˆtre active
           'M'  Pour effectuer des mesures unitaires dans la fenˆtre de vue
                2D. Pour faire des mesures dans la scŠne que vous mettez en
                place, il vous suffit d'appuyer sur la touche 'M', puis de
                cliquer … l'endroit de d‚part de votre mesure, … partir de
                l… et jusqu'au prochain clique, vous aurez la mesure ‚cran
                entre la souris et votre point de d‚part.
      'Delete'  Pour effacer l'objet actif
           '*'  Pour sauver la scŠne en cours dans un fichier temporaire
        'UNDO'  Pour rappeler la derniŠre sauvegarde temporaire
    'CLR/HOME'  Pour r‚tablir un zoom … 1 est recentrer l'univers en 2D
           '+'  Pour agrandir la vue (plus rapide avec Shift)
           '-'  Pour diminier la vue (plus rapide avec Shift)
      'ESPACE'  Pour forcer un redessin complet de l'‚cran
  'CONTROL F4'  Pour fermer la fenˆtre active.
'ALTERNATE F4'  Pour sortir e l'application et retourner au GEM.

   Utilisation des touches de fonctions. Avec et sans SHIFT :

F1  Chargement d'une scŠne EBS    Shift F1  Sauvegarde de la scŠne en cours
F2  Importation par les modules   Shift F2  Exportation par les modules
F3  Modification des objets       Shift F3  Gestion des C.S.G.
F4  Gestion des textures          Shift F4  Partie texture PIGMENT
F5  Partie texture NORMAL         Shift F5  Partie texture FINISH
F6  Gestion de la cam‚ra          Shift F6  Gestion des lumiŠres
F7  Vue de face                   Shift F7  Vue de dos
F8  Vue de droite                 Shift F8  Vue de gauche
F9  Vue de dessus                 Shift F9  Vue de dessous
F10 Vue en 3D filaire             Shift F10 Vue en 3D faces cach‚es

   ATTENTION : Contrairement au raccourcis clavier des menus, ces raccourcis
clavier par les touches de fonctions ne sont pas ‚ditables. Un jour peut ˆtre
si j'ai le temps...Pourquoi pas...?

   A propos des paramŠtrages :

      Lors de votre premiŠre cession de travail, vous allez devoir
param‚trer votre version de EB_MODEL en fonction de votre disque dur et de
votre capacit‚ m‚moire (non, pas la votre, celle de votre machine). Pour
cela vous allez avant toutes choses appelez la fenˆtre de....param‚trage.
Et oui !
Donc, s‚lectionnez dans le menu 'Divers' (… droite de la barre de menu) le
sous menu 'Param‚trages'.(entre nous, la premiŠre fois que vous lancerez
EB_MODEL, il vous pr‚sentera lui mˆme cette fenˆtre de param‚trage avant
toute chose. L…, il y a plein de choses … faire. Tout d'abord indiquer les
chemins d'accŠs utiles au programme...

Les chemins suivants sont possibles :
          - L'emplacement des scŠnes de EB_MODEL
            *.EBS -> les scŠnes
            *.EBO -> les primitives secondaires associ‚es
            *.EBA -> les animations associ‚es
               (REMARQUE : En tant qu'utilisateur de EB_MODEL, vous ne
               devez vous occuper que des fichier *.EBS, les deux autres
               ‚tant g‚r‚s automatiquement par le modeleur. Il n'y a qu'en
               cas de copie ou de d‚placement que vous devez les laisser
               ensembles)
          - L'emplacement des script POV (*.POV). Ici, il est possible de
            donner un r‚pertoire, ainsi, tous les fichiers associ‚s au projet
            seront sauver au mˆme endroit. Le script est ses fichiers inclus
            (d‚claration des textures, couleurs... et d‚claration des objets
            facettes).
          - L'emplacement des images … calculer (*.TGA, *.DIS ou *.RAW)
          - L'emplacement de POVST.TTP ou POV30_82.TTP ou FTPOV.TTP ou autre
          - UNDO indique le chemin ou seront sauvegard‚ les scŠnes temporaires
            de la fonction UNDO.
          - L'emplacement des fichiers INCLUDE, c'est la que EB_MODEL ira
            sauver les fichier EB_MODEL.INC et autre fichiers INCLUDEs.
          - L'emplacement des fichiers CYBER (*.3D2)
          - L'emplacement des fichiers INSHAPE (*.IOB)
          - L'emplacement des fichiers BICUBIC_PATCH (*.BIC)
          - L'emplacement des fichiers de formes pour le tour et l'extrudeur (*.FOR)
          - L'emplacement des fichier de montagnes fractales (*.FRC)
          - L'emplacement des fichiers de formules QUADRIC et QUARTIC (*.QUT,
             *.QUD)


   Puis, indiquer la taille des objets lors de cr‚ation automatique. Le
nombre d'objets maximum utilisable dans le modeleur (1). La taille de la
fenˆtre d'animation pour le test. L'extension du fichier de commande
(BATCH) pour cr‚er les images d'une animation. avec un SHEL de commandes,
la taille de la pr‚visualisation des textures et pour finir ici, le nombre
de UNDO autoris‚s. C'est derniŠre option permet de sauvegarder diff‚rentes
‚tapes de la construction de la scŠne en cours, et par la mˆme de les
retrouver en cas d'erreur lors des modifications.
   Le bouton intitul‚ "AUTRES CHEMINS INCLUDES" permet lui d'indiquer les
autres chemins d'accŠs aux INCLUDEs de P.O.V... Comme vous le savez, ou
l'ignorez (nul n'est parfait), POV autorise jusqu'a dix chemins diff‚rents
pour acc‚der aux INCLUDEs. Ceci permet par exemple de ranger proprement son
r‚pertoire POVRAY avec autant de sous-r‚pertoires que n‚cessaire. (Exemple :
un pour les *.INC, un pour les *.GIF (images … mapper), un pour les *.TGA
(images … mapper) etc... Pour activer ses chemins suppl‚mentaires, il vous
faut d'abord cliquer sur la ligne de sasie, puis … l'aide du selecteur de
fichiers, d'indiquer le bon chemin. Ensuite, pour valider ce chemin, il vous
faut cliquer le le petit bouton qui se trouve … gauche de la ligne de saisie.

   Puis, en cliquant sur le bouton 'Param‚tres divers' on indique les
options suivantes :

Mode rapide : Affichage de tous les objets sous formes de boite uniquement
         pour un affichage plus rapide.
Primitives simple(1) : Affichage des objets complexes de maniŠre plus simple
         les sphŠres, les c“nes, les tronc de c“ne, les tors, les montagnes
         fractals, les h‚misphŠres...etc...
Fond gris : Permet de changer le fond gris des fenˆtre en fond
         blanc. Fonctionne uniquement en monochrome sur STf/STe/TT.
Smooth Triangle : Lors de la g‚n‚ration des scripts P.O.V., permet de cr‚er
         des objets polygonale avec des "Smooth triangle" ou des "triangles"
Palette systŠme(1) : Utile surtout sous systŠme multitƒche. Permet de garder
         la palette du bureau, ou d'imposer une palette propre au programme.
Sauvegarde auto : Permet de cr‚er ces copies des fichier existants lors de
         la sauvegarde. Des copies de s‚curit‚ quoi !
Pour le futur    : Et bien oui, j'enlŠve des trucs, j'en met ailleur. L…,
         j'ai simplifi‚ les choses, l'ancien ‚cran virtuel et maintenant
         toujours actif. Du coup, paf ! une option de libre pour plus tard.
Active auto : Activation automatique des fenˆtres lors du passage de la
         souris dessus.
Bounding Box : EntiŠrement revue depuis la version 2.70a, cette option permet
         d'ajouter dans les scripts des boites englobantes qui acc‚lŠrent
         grandement le calcul des images par P.O.V. A conseill‚ pour les
         scŠnes complexes. (Voir mˆme tout le temps, mais c'est … vous de
         voir)
Jauge Nø1 - Jauge Nø2: Soit la jauge Nø1 en haut de la fenˆtre dans la barre
         d'info de cette derniŠre, soit la jauge Nø1 au centre de l'‚cran
         qui, elle, peut poser des problŠmes de redessin (rien de grave, mais
         quand mˆme...
Point vis‚ li‚ : Le point de vis‚ des spots et de la cam‚ra peuvent ˆtre
         li‚s au point de d‚part ou pas.
Cam‚ra & Lampes : Comme depuis la version 2.74a la cr‚ation est toujours
         automatique, j'ai plac‚ ici la possibilit‚ de modifier l'affichage
         de la cam‚ra et des lampes. Par d‚faut, dans les vues 2D, vous avez
         le droit … un zoooliii dessin de cam‚ra et de spot pour les lampes.
         Si vous activez cette option, vous aurrez une croix pour la cam‚ra
         et des ronds pour les lampes. Voil….
Carreaux visible : Les carreaux de B‚ziers seront calcul‚s avec les faces
         visibles des deux cot‚s ou d'un seuls.
Points de contr“le : Les points de contr“le des carreaux de B‚zier seront
         visualiser dans les vues 2D ou non.


(1) Tous les param‚trages indiqu‚s par '(1)' ne sont pris en compte qu'a
la cession de travail suivante. Il faut donc dans ce cas sauver la
configuration, sortir du programme et relancer le programme.

   Lorsque vous cliquerez sur le bouton intitul‚ "SAUVER", tous ces
paramŠtres seront sauv‚s dans un fichier de configuration. En fait, lors de
cette sauvegarde, les paramŠtres de lancement de POV seront aussi sauver.
C'est pourquoi, dans la fenˆtre de lancement de P.O.V., vous trouverez aussi
une option 'SAUVER'. Elle est la soeur jumelle de l'option 'SAUVER' des
paramŠtrages. Elles sauvent toutes les deux les mˆmes choses. Mais avouez
que c'est sympa. Vous n'avez plus besoin de retourner dans les paramŠtrages
pour sauver les modification effectu‚es dans le lanceur de P.O.V..

   Justement, … propos de la fenˆtre de lancement de POV, voici quelques
explications.
   Cette fenˆtre pr‚sente 5 grandes parties.
   En haut, la premiŠre ligne permet d'indiquer le nom du script POV et le
nom de l'image … g‚n‚rer. Par d‚faut, le nom de l'image se calque sur le nom
du script. Juste en dessous vous pouvez choisir le format de l'image …
g‚n‚rer entre TGA, DIS et RAW.
   En dessous, 2 parties. A gauche, il est possible de choisir les dimensions
de l'image … g‚n‚rer. Plusieurs choix pr‚d‚finis sont disponibles. Mais, en
cas de formats diff‚rents, un champ "LIBRE" permet d'entrer la largeur et
la hauteur … la main. Si l'image existe d‚j…, le bouton "Reprendre le calcul
en cours" permet de finir l'image (attention … respecter les dimensions
de la partie d‚j… calcul‚e).
                          A droite, divers paramŠtres de contr“le de POV.
Il suffit de cliquer sur le bouton pour l'activer ou le d‚sactver. De haut
en bas, nous trouvons :
      G‚n‚ration du fichier image : Permet de sauver ou pas l'image calcul‚e
      Affichage de l'immage : Permet d'afficher l'image durant le calcul
         (ATTENTION, cela ralenti consid‚rablement le calcul)
      Attente clavier aprŠs image : POV attendra ou non l'appui sur une
         touche aprŠs le calcul.
      Attente clavier aprŠs erreur : POV attendra ou non l'appui sur une
          touche aprŠs une erreur.
      Utilisation de "BOUNDING SLAB" : Active ou non une m‚thode automatique
          d'acc‚l‚ration des calculs
      Num‚ros de lignes : Affiche ou pas le num‚ro de la ligne en cours de
           calcul.
      M‚thode de LAFARGUE : Lorsque l'option ANTI ALIASING est active, permet
           d'utiliser une m‚thode diff‚rente.

   En dessous, nous trouvons encore deux parties.
                          A gauche : Le choix de la qualit‚ d'image calculer.
   Le temps de calul est directement d‚pendant de cette qualit‚. Mais, le
   r‚sultat aussi. Et malheureusement, plus on veux que se soit beau, plus
   c'est long. C'est cela le rendu d'images.
                          A droite : Activer ou non le buffer. Lors des
   calculs, POV sauve sur disque chaque lignes calcul‚es. Si un buffer
   est indiquer. POV ne fera sa sauvegarde que lorsque celui ci sera plein.
   Moins d'acc‚s disque, donc plus de vitesse.
                                     Activer ou non la table des symboles.
   Activ‚e l… toujours et avec une valeur de 1000 pour plus de s‚curit‚. Pour
   plus d'information, voyez la documentation de POV.
                                     Activer ou non l'ANTI ALIASING permet
   d'utiliser cette m‚thode pour ‚liminer les effets bien connus d'escalier
   sur les images BITMAPs. ATTENTION aux temps de caluls que cela demande.
                                     Modifier la matrice de calcul de
   l'ANTI ALIASING. Voir la documantation de POV pou plus d'informations.
                                     Activer ou non le JITTERING permet
   d'utiliser cette m‚thode pour ‚liminer les effets bien connus de
   d‚formations sur des sols qui partent … l'infini sur les images BITMAPs.
   ATTENTION aux temps de caluls que cela demande.

   Pour finir, si vous utilisez les "BOUNDING SLABs", vous devez indiquer
   … partir de combien d'objets cette m‚thode ce d‚clanche. Presonnellement
   j'utilise 1 comme nombre minimum. Ce qui … pour effet de toujours utiliser
   les "Bounding Slabs" et donc acc‚lŠre encore le calcul des images.

   Voil…, n'oubliez pas de sauver la configuration (Fenˆtre paramŠtrage) pour
   ‚viter de la refaire … chaque fois.

   Avant de terminer, je voudrais vous d‚montrer la r‚elle optimisation de
FTPOV par rapport … POV. Pour cela, j'ai r‚aliser une scŠne (PIECE_TT) qui
contient pas mal de choses...Mapping d'images, textures proc‚durales,
pas mal d'objets (des primitives de bases) et quelques C.S.G.. AprŠs cela,
j'ai fait calculer la scŠne pr POV et FTPOV avec les options suivantes :

   +ft               / G‚n‚ration d'une image TGA
   +v1               / Affiche du num‚ro de ligne en cours de calcul
   +p                / Attente l'appui sur une touche aprŠs les calculs
   +u                /
   +ms1000           / Table des symboles fix‚e … 1000
   +y +mb1           / Bounding slabs activ‚ et … partir d'un objet
   -b                / Pas de buffer
   -a                / Pas d'antialising
   -j                / Pas de jittering
   +q9               / Qualit‚ maximum
   +w320 +h200       / Image de 320x200 pixels
   +sc1 +ec320       / Calcul de 1 … 320 sur la largeur
   +sr1 +er200       / Calcul de 1 … 200 sur la hauteur

   Ces calculs ont ‚t‚ r‚alis‚s sur mon TT (32 Mhz/2 m‚gas de RAM normal)
   Voici les r‚sultats :

               P.O.V.II    :  3 Heures 11 minutes  28 secondes
               soit        :  11488 secondes.
               F.T.P.O.V.  :  1 Heure  1  minute   56 secondes
               soit        :  3716  secondes.

   Concluant non ? FTPOV … calculer la mˆme image 3 (trois) fois plus vite.


   Aux vues de la taille de plus en plus importante de mon modeleur, j'ai
du retirer tous les exemples que je fournissait avec. Je n'ai laiss‚ que
quelques exemples de scŠnes dont la majorit‚ ont ‚t‚ r‚alis‚es par l'un des
utilisateurs de EB_MODEL.
J'ai nomm‚ Jean Claude DELACOUR (plus connu chez moi comme "L'HOMME A LA
VOIX DE VELOURS")

   Dans la fenˆtre de cr‚ation de montagnes fractales, il existe une nouvelle
ic“ne qui permet de charger directement une image TARGA (de type 2). Durant
le chargement, l'image est analys‚e point par point pour ˆtre transform‚e en
montagne. Cela demande du temps, mais fonctionne plut“t bien. Imaginez d‚j…
les superbes effets que cela peut donner. Un visage en relief, des canyons et
tant d'autres choses que seul votre imagination peut cr‚er.

   Et maintenant passons … des choses moins dr“les. Les erreurs non
corrig‚es.
Le module d'imporation SCN (les scŠnes de NEON 3D) ne fonctionne vraiment pas
bien. Il faut dire que les d‚veloppeurs de NEON sont vraiment tordus. Et je
pense qu'il va me falloir un certain temps avant de r‚ussir. D'ailleurs, je
l'ai retir‚ de la disquette.

   Dans tous les cas, si un problŠme important survient et que EB_MODEL ne
puisse plus ˆtre lanc‚ correctement (cela est d‚j… arriv‚), je vous conseil
d'aller effacer les fichiers suivants qui se trouvent dans le sous-r‚pertoire
SYS.

      EN_COURS.PRJ
      EB_MODEL.CFG
      LIMITES.CFG

   Principalement le fichier EN_COURS.PRJ qui, depuis quelques temps, me
pose des problŠmes lorsque le zoom n'est pas … 1 lors de la sortie du
programme.

   De plus, la premiŠre chose … faire est de conserver dans un coin (sur une
disquette par exemple) les fichiers OVL et IDX contenant les d‚finitions de
textures, pigments, normals, finishs et couleurs. Car, si par malheur il
restait quelques bugs, vous pourriez les perdres. Alors, pensez … les sauver
de temps … autres.

   Puis de relancer EB_MODEL et de refaire la configuration complŠte du
logiciel. Normalement, cela devrais dans la plupart des cas remettre de
l'ordre.

   Avant de finir, voici les r‚alisation principales en cours d'‚criture...

      Modules d'import/export au format RDR (Renderay 1.0 sur PC)
                                        RAW (courant sur PC)
                                        SCN (Les scŠnes de NEON 3D)
     ainsi que le format de fichier de LightWave 3D (AMIGA et PC)

   Voila, en attendant de nouvelle version, je vous laisse r‚aliser de
belles images. Bon courage et bonne chances.

   Pour ceux qui ne disposent que d'une version limit‚ de EB_MODEL, je vous
rappel que ce programme ce trouve dans le domaine public selon la methode du
SHAREWARE. C'est … dire que pour obtenir une version complŠte, il vous suffit
de m'envoyer une somme minimum de 150 FF et en ‚change, je vous envoie une
version complŠte (la derniŠre en date bien sur).

   A vous de voir...

         Mon adresse : M.BARANGER Emmanuel
                       12, rue de la Tuilerie
                       86220 Dang‚ Saint Romain
                       France

   Pour l'‚tranger EB_MODEL et diffus‚ par :

         French Falcon Club
         6, rue de l'Ecole
         67800 BISCHEIM

      Vous ne le savez peut ˆtre pas, mais ce sont eux qui r‚alise le g‚nial
      et n‚amoins super fanzine Power Falcon Magazine (P.F.M.). Je vous le
      conseil.

   Remerciement … :

   Jean Claude DELACOUR pour ces fichiers scŠnes et sa fid‚lit‚.
   Gilles ANNEE pour sa traduction du logiciel en anglais.
                  (Bouh !!  il est sur PC maintenant, le m‚chant...)
   Jean Fran‡ois BAILLY pour son aide lors des tests et son amiti‚.
   Toute l'‚quipe de ST Magazine pour son efficacit‚.
   Toute l'‚quipe de F.F.C./P.F.M. pour leur sympathique aide et leur
   passion du monde ATARI.
   Ma femme parce que je l'aime et pour les trois filles qu'elle m'a donn‚.
   Et tout ceux que j'oubli...qu'il ne m'en veuillent pas....
                                                            MERCI A TOUS

                     Informatiquement votre

                              BARANGER Emmanuel
