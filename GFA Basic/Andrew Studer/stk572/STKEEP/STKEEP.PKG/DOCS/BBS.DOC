ST-Keep Bulletin Board System
All Versions

Program & Documentation Copyright (C) 1990 by Pandamonium Software
All Rights Reserved
Programming & Design by Andrew P. Studer
Documentation by Andrew P. Studer

No part of this manual, disk, program, and/or software may be reprinted, or
reproduced or utilizied in any form or by any electronic, mechanical or
other means, now known or hereafter invented, including photocopying and
recording, or in any information storage retrieval system, without the
written permission from the author.  This does not include shareware or
public domain library distribution which has blanket authorization for
distribution and only including charges necessary to distribute this
software.

Pandamonium Software                  BBS:  (916)729-2968 V.32bis/V.42bis
7432 Convair Way                  FidoNet:  1:203/1632.0
Citrus Heights, CA 95621         AtariNet:  51:3/15.0

Registration Agreement

ST-Keep can be registered for the fee of $40 (US currency) by sending a check
or money order to the address above.  Cash will not be accepted.  NOTE:  All
checks and money orders must be made payable to "Andrew Studer" or they will
not be accepted.

In paying the registration fee for this package, you are not given any
rights relating to the software.  The programmer will attempt to fix any
reported bugs, continue updating the program, and otherwise afford service
to the program, but in no way is Pandamonium Software or Andrew Studer
responsible for any unwritten guarantees.  The registration fee is $40, with
upgrade fees following initial registration by approximately 6 months
depending on update activity.  Updates usually occurr weekly and monthly, but
they are free until the author decides enough modifications have gone by to
justify an upgrade fee.


Disclaimer

Pandamonium Software makes no warranties, either expressed or implied, with
respect to this manual or with respect to the software described in this
manual, its quality, performance, merchantability, or fitness for any
particular purpose.  ST-Keep is licensed as is.  The entire risk as to its
quality and performance is with the buyer.  Should the program prove
defective following its purchase, the buyer assumes the entire cost and
responsibility of all necessary servicing, repair, or correction and any
incidental or consequantial damages.  In no event will Pandamonium Software
be liable for direct, indirect, or consequential damages resulting from any
defects in the software.


Message from the author

ST-Keep Bulletin Board System (BBS) is a very complex and versatile
telecommunications application.  Its degree of complexity is not overshadowed
by its simplicity to use.  Whether you are a novice, intermediate, or
professional in the telecommunications field, you will have no problem
becoming accustomed to the functions and commands in this Bulletin Board
System.

Bulletin Board Systems are truely an adventure into another world.  Not only
will you be able to share messages and programs with others, but you will
also be able to meet new friends, enhance your education, and generally
enlighten your life by the contact you will make with the rest of the world
via this media.  All of this and more is available with the simple tools such
as your computer and your modem.

I hope your use of this program will be as fun and exciting as it has been
developing and running it myself.

                                        - Andrew P. Studer


Technical Support

If you have any questions, suggestions, or other comments, call the ST-Keep
Support BBS at (916)729-2968, modem speeds from 300bps-14400bps (V.32bis /
V.42bis).  Once you create your account you will be able to leave a message
to the System Operator (SysOp) & author, Andrew Studer.  Replies to your
messages should not take longer than 48 hours, and usually no more than 24
hours.  If your problem is critical, please leave your voice phone number
and a time to call and technical assistance will be prioritized based on
your problem.  Technical support is not guaranteed.


Program Requirements

    Atari ST, STe, Mega STe, STacy, or TT computer.

    Modem & RS232 cable

    Hard drive (strongly suggested)

    Telephone access line


Conventions
 
Throughout these documents and the BBS program itself, you will see brackets
surrounding single or multiple letters.  This means that in order to obtain a
particular action, press the key(s) inside the brackets.  If you see "[T]
Terminate Connection," it means to press the "T" key on your keyboard (upper
or lowercase) to logoff from the BBS.  If you see "[.][E][R] Create Room,"
press "." "E" and "R" one after another, and the system will respond with
".Enter Room:  " and allow you to type in the room name you wish to create.
These keys will normally be seen in menus and are allowed at most prompts,
whether the prompt ends with a ">" (greater than sign), "]" (right bracket)
or a ":" (colon).
 

Introduction

ST-Keep is a room based BBS.  That is to say, various topics have their own
rooms (aka Special Interest Groups, bases, areas, etc...).  Rooms usually
consist of specific topics such as Paint Programs, Music, or Arcade Games.

In addition to rooms, floors add another facet of organization.  A floor is a
more general topic than a room, with the rooms on each floor being somewhat
related.  Floor configuration is not required, but highly suggested for the
same reason one would use folders in a file cabinet.

You may have floors such as Games, Word Processing, and Programming with
rooms on the Games floor such as Arcade, Simulations, Shoot-em-up's, rooms on
the Word Processing floor such as Text Files, Word Processors, and editors,
and rooms on the Programming floor such as BASIC, C, Assembly, etc....

Rooms consist of messages written by the users of the BBS.  The messages
will normally be related to the topic of the room, but sometimes topics go
astray.  It is the responsibility of the SysOp and the Aides to keep
things somewhat organized by moving unrelated messages to their appropriate
rooms.

Each room may also have a directory attached to it, depending on its topic.
You may not have a directory for a Chit-chat room on the General floor, but
you will most likely have a directory for the Arcade room on the Games floor.
These directories may contain files and programs available for downloading by
the users of the BBS.  They may also upload files to share with other users
as long as the room has a directory allocated.

The BBS may also contain doors.  These are entryways into alternate
applications, most notably, on-line games.  If a user has the proper access,
they may play games or enter other applications if the SysOp has configured
them.  In addition to games, there are stock market quoters, networking
systems (FidoNet, etc...), and even other bulletin board systems, just to
name a few.

As you can see, this small introduction to ST-Keep opens quite a few avenues
of interest, without closing the doors to your own interests.


Configuring Your Bulletin Board System

After you uncompress the main STKEEP.LZH file, run the program BBS_CNFG.PRG
(BBS Configuration Editor).

NOTE:  Any reference to pathnames below require a trailing backslash unless
otherwise stated (i.e. "D:\STKEEP\BLB\").

A menu will appear with the following options ([A] Edit paths, [B] Edit
Options 1, [C] Edit Options 2, [D] Increase Message Base, [E] Allocate New
Rooms, [F] Configure New User Settings, [I] Install BBS, and [X] Exit).  Since
you have never run this program before, you will need to select "Install BBS."
If you run this program again, NEVER choose "Install BBS."  Always select the
the other options item, otherwise you will destroy your system files.

Select [A] to edit your path and file locations if you are not installing your
BBS for the first time, otherwise you will be brought here automatically.

[A] Enter the pathname of the folder you created and copied your system
files into.

[B] Enter the pathname where your blurb (*.BLB) and menu (*.MNU,
*.V52, *.ANS, *.V52, *.IGS, *.BIG) files are located.  They should be
inside a folder named BLB inside your system folder although you can
move them to a more appropriate location.  Just remember to keep the
path on this line pointing to their actual location on disk.

[C] Enter the pathname where your help (*.HLP) files are located.  Save as
above except they will be in a folder named HLP.

[D] Enter the pathname where your bulletin (*.BU?) files are located.  You
may not have any yet, so just enter the pathname where you plan on putting
them.

[E] Enter the pathname where your vote (*.VOT) files are located.  Same as
above.

[F] Enter the pathname where you wish the temporary files to be
created.  If you have a RAMdisk that would be a great location, if
not, anywhere is fine.  Small temporary files are required for a few
of the BBS options and this allows you to speed up these functions if
you have a RAMdisk.  Example:  "D:\STKEEP\TEMP\".

[G] Enter the pathname and filename where the XYZ.TTP program is located.
Include XYZ.TTP in the pathname and do NOT end it with a trailing backslash
(i.e. "D:\STKEEP\XYZ.TTP").  This is required for file transfers.

[H] Enter the pathname and filename where the STZIP.PRG program is located.
Same as above.  This is used to display the file contents of a ZIP archive
in a directory room.

[I] Enter the pathname and filename where the LHARC.TTP program is located.
Same as above.

[X] Return to the main menu.

Select [B] to set the first group of options if you are not
installing the BBS for the first time, otherwise you will be brought
here automatically.

[A] Select your maximum baud rate allowed by your modem.  If you are using a
high speed modem, you may wish to select 192 in order to lock the port at
19,200 bps.  This ensures optimum speed with the special protocols on these
modems.

[B] Enter your system password.  This will be required to access high level
functions within the main program.  KEEP IT SECRET!  Even your Co-SysOps
should not have this password.

[C] Enter the name of your BBS.  This will be used by ST-Keep to notify
users what system they are calling.

[D] Enter your modem initialization string.  Most modems have default
options that will suit the purpose of this BBS, but you should ensure the
following commands are configured to be certain:  Auto-answer on the first
ring, disable remote command access, place modem on-hook, verbose result
codes, carrier detect tracking (not forced), and monitor DTR.

    For example:  AT S0=1 S2=255 H0 V1 &C1 &D1

    If you are using a high speed modem, the W2 command is also required to
    obtain the modem-to-modem speed and ignore the protocol types.

[E] Enter the disabled BBS bypass password.  ST-Keep can be disabled by the
SysOp.  If so, when a call comes in, the DISABLED.BLB file is sent to the
user instead of the normal LOGON.BLB file.  The BBS will wait 3 minutes
before hanging up or hang-up at the first detection of modem input, unless...

    ...the user presses CONTROL-B, for bypass.  If this key is pressed, a
    "Pw:" prompt will be displayed.  Any user typing the correct bypass
    password will be allowed on the system.  Keep this password secret as
    you would with your system password.

[F] Enter your REAL first name.  This will not be the name used when creating
your BBS account

[G] Enter your REAL last name.  See as [F] above.

[H] If you wish to have the ability to delete special messages saved in the
SysOp room (recording various important system information), select YES
here.  Generally, you will want this set to NO.  Why?  If, under the rare
circumstances, someone gets ahold of your system password and hacks your
account and BBS, they won't be able to delete any of the messages in the SysOp
room that record the actions of this person.  On the other hand, there may be
times when YOU perform certain actions that you don't wish viewed by other
high access users.

[I] Enter the minimum baud rate you wish to allow for incoming calls.  This
can be from 300-14400.

[J] Enter the minimum baud rate you wish to allow for file transfers.  See
above.

[K] Enter Yes if you wish the BBS to bring up a file selector while you are
performing maintenance on the console, No and it will never bring one up.  A
remote call disallows the use of the file selector at all times.

Select [X] to exit when you verify that all of this information is correct.

Select [C] to select the second group of options.

[A] Enter the number of the door you wish to be executed after a user
successfully logs on.  Enter "0" if you wish no door to execute.  Once you
configure your door applictions, you may find it necessary to have one of
them run every time a user logs-in.  Example:  Fidonet allows for world-wide
networking of messages and files, you may wish to have Fidodoor check for new
messages for all your users as soon as they logon, rather than forcing them
to enter the door manually.

[B] Enter the number of the door you wish to be executed after a user logs
off.  You may have a specialized program that needs to be run at this time
and you can select it with this option.  Enter "0" if you wish no door to
execute.

[C] Enter the pathname and filename of your SysOp chat program.  ST-Keep is
supplied with the program BBS_CHAT.PRG, but you may wish to use a third
party or your own program when chatting with users.
Example:  "D:\STKEEP\BBS_CHAT.PRG"

[D] Enter the door number that you wish to run automatically when a user
uses the [*] function from a room prompt.  This will avoid the necessity of
forcing the user to select the most popular door all the time.  Enter "0" if
you always want the door menu to appear.

[E] Enter the room number where you want system activity reports to be saved.
Generally, they are saved in the Aide room (#3) but you can create your own
special room for this purpose and enter the door number.  Enter "0" to use
the default room (#3).  Typical messages saved in this room would be
download reports and other user activity.

[F] Enter the number of minutes that you wish to allow new users to have when
they first call.

[G] Enter a number signifying the ratio of the number of downloads to the
number of uploads new users are allowed when they first call.

[H] Enter the maximum number of minutes that any user is allowed on-line each
day.

[I] Enter the number of minutes of inactivity allowed by a user before their
session is terminated automatically by the BBS.

[J] Enter the complete path and program name of your desired terminal
program.  This is executed if you use [C] from a room prompt and no user is
on-line.  A terminal program is supplied, but isn't required to be used.

[X] Exit these menus.  If you are installing your BBS for the first time, you
will be asked for more information in the next paragraph, otherwise you will
be taken back to the main menu where you can select [X] Exit and reply [Y] or
[N] to save or not save the changes you have made.

If you are installing your BBS for the first time, you will have the following
menu items to enter:

[A] Maximum user accounts.  You should enter a rather small number here
because the main BBS has the ability to increase the userlog size if it fills
up.  Starting with 100 or 200 user records should be sufficient.

[B] Enter the maximum number of rooms.  This number can not be changed so you
must think very carefully on the total.  Most BBSs limit you to 16 or 32 bases
for message discussion, ST-Keep allows up to 32000 rooms for this same purpose
(and subsequently, directory areas for files as well).  A normal BBS will keep
around 50 rooms active at all times, but that number may fluctuate up to 75 or
even 100 if you have a wide variety of interests.  Based on your maximum
expectations of the use on your BBS, enter a number reflecting this decision.
Always think high, as it's better to have too much than too little in this
case.  100-150 is a good place to start.  Don't worry about thinking up names
for these rooms right now, this simply allocates space on the hard drive for
them but only activates the first four automatically.  You can increase
this number at a later date with the "Allocate New Rooms" function from
the main menu of this program.

[C] Enter the size of your message base file.  This one needs some forethough
as well, although it can be enlarged if needed.  All messages are stored in
one 'circular' file that is referenced by pointers for each message in the
rooms.  This file is usually created at 400-500K.  I have seen very active
boards with only a 500K message file and messages stick around long enough for
regular callers.  If your system is configured to allow 50 messages per room,
with 100 rooms, and a 500K message base, you would expect around 500 to 2000
messages active on your system at any time.  When you enter the size of your
message base, enter it in total bytes.  That is, if you want a 400K message
base, just type in 409600 (400*1024).  You can increase the size of your
message base in the future by using the main menu option in this program.

   NOTE:  Messages are deleted based on 4 criteria:  first is when the message
          base file fills up, the pointers start back at the beginning of the
          file and start deleting the oldest messages in the system; second is
          when a user enters the maximum message number allowed in the room,
          the oldest message in that room is deleted; third is when the aide
          command is used to delete a message; and fourth is when users delete
          their own messages.

[D] Enter the maximum number of messages allowed per room.  Again, use your
own judgement.  Most uses aren't going to want to read more than a few
messages per room each time they logon, so you probably don't want this number
much more than 100-150.  With a number in that range and a 500K message base,
you would keep old messages around long enough for the regular users to read,
but not so long that new users would have to read messages that are a number
of months old.  Depending on the message activity in each room, the older
messages may have quite recent dates on them due to the way they are deleted
as stated in the above paragraph.

[E] Enter your SysOp username, first and last or pseudonym (i.e.  "Andrew
Studer" or "Andy Panda".

[F] Enter your SysOp password, this will be required to use your SysOp
account.

[S] Press this key if you are happy with your selections.  The program will
create a number of *.SYS system files and save your configuration information
in them.  When it is finished you will be returned to the desktop.  Remember,
never use the Install BBS option from the main menu unless you wish to start
from scratch.

If you already installed your BBS and just changed some options on this run,
you can use [X] to exit and then [Y] to save the changes or [N] to ignore the
changes.

Before you run the main BBS, you should edit a couple textfiles to suit your
own preference.

In your blurb folder are 3 files called LOGON1.BLB, LOGON2.BLB, and
LOGON3.BLB.  All of them can be edited or re-written to display the
information specific to your BBS.  One of the three is chosen randomly to
display to the callers after connection.  You should include information such
as your BBS name, phone number, modem speeds, etc.  You may wish to edit any
of the other BLB or MNU files as well, depending on your preference.  Be sure
not to leave out any function key information on the MNU files, otherwise the
users won't know which keys to use for which functions!

You must include XYZ.TTP (which is supplied) in the folder you create for the
file transfer shell option.  Alan Hamilton has the best protocol features and
these are what ST-Keep uses for file transfers.  Please send him a shareware
donation if your system uses file transfers.
 

Your First Logon

Run BBS.PRG and wait for the wait-call screen to appear.  You will notice a
few informational items in addition to a menu on the screen.

Select [L] to logon to the BBS.  From this point on you will see what a caller
would when they connect via modem.

At most any time while text or messages are being displayed while on ST-Keep,
just type [CONTROL-S] or [P] to pause the display, then type any key to
resume.  If you would like to abort or stop the display, press [CONTROL-C] or
[S].  Obviously, [P] and [S] are easier to use than the CONTROL options.
There are certain prompts that can not be stopped due to the necessity of
viewing this information.

After the LOGON#.BLB file is displayed you will be prompted for your
"Username:".  Enter the SysOp username you used when initializing your
system.  You will then be prompted for your password.  Enter the password you
selected for the SysOp account.

After being welcomed to the system, the BBS attempts to display any bulletins
that are readable by this user.  If you created any bulletins in the
specified folder, the extensions will be analyzed along with the timestamp on
the file to determine if the current user should see them or not.  Refer to
the bulletin section for more information.

After bulletin checking, the user will automatically be shown the new
messages in room #1 on your system (usually called Lobby).  Again, pressing
[S] will stop reading the messages and pressing [P] will pause.  When all the
new messages (if any) are displayed, a list of rooms with new messages for
the user is displayed along with the Lobby> prompt.  If you do not like the
name of this room, you are welcome to change it using the appropriate Aide
command detailed below.  Just remember the name change when Lobby> is
referenced later in this manual.

As you can see, the roomname precedes the ">" greater than sign.  This is
simply a prompt that signifies that the BBS is waiting for a response.

Press [F10] to bring up the session status line.  There is copious amounts of
information for the SysOp while a user is on-line.  This window will come upt
automatically when callers logon if the SysOp has it configured as such,
otherwise [F10] will toggle it on and off.

Press the [?] key.  If you used the correct pathname in the Configuration
program, you will be displayed the main BBS menu.  If not, you should use [T]
to logoff, then [X] to exit the BBS program, then re-run BBS_CNFG.PRG and
select the Change paths option in order to enter the proper folder where your
BLB files are located.  Then check the partition and ensure that they ARE in
the designated folder.  Start this step over again.

When you are ready to create your own rooms, type [.][E][R] for .Enter Room
and follow the prompts.

Once you get the menu you can use any of the various commands depending on
your interest.  Commands available from any room prompt are detailed below...


Main Menu Commands - [?]

[A] Aide Commands
    See the "Aide Commands" section below.

[B] Backto Room
    This will move backwards in room numbers until it finds a room that had
    new messages when you first logged on.  Useful if you accidentally leaave
    a room before reading all the new messages.

[C] Call SysOp
    Commonly referred to as Chat Request.  This allows the modem user to call
    for the SysOp and chat.  If the SysOp is around, he has the option of
    pressing [F2] to enter chat mode wich allows both users to type to each
    other at the same time.  Pressing [F2] actually executes the designated
    chat exec from the Configuration program.

[D] Download File
    This command is only valid in directory rooms.  Directory rooms end with
    a right bracket "]".  If there are no files on hold for this user, they
    will be prompted to enter a filename or multiple filenames if a batch
    protocol is used.  Users with access levels of 200 or higher may use
    wildcards.  If files are on hold, they will all be sent via batch
    protocol based on the users configuration.


Co-SysOp Commands - [.][C][?]

The Co-SysOp commands are used to manage ST-Keep's functions and features
by the SysOp and any designate Co-SysOps.  These commands may be accessed
on-line (either via local log-on or distant, through the modem) by pressing
a sequence of three keys: the period, the letter "C", and one of the
following (depending on the desired function):
 
[A] Access User
    Allows editing of the current user via the local keyboard.  The system
    password is requested before editing can begin.
 
[B] Backup Option
    Press [RETURN] to disable the backup option.  Otherwise enter a valid
    drive and pathname (i.e. "C:\FOLDER\") where ST-Keep will backup all
    the *.SYS files when the first caller after midnight logs off.  You
    must insure that you have enough space on the backup partition, so just
    calculate it by adding the size of all the *.SYS files in your system
    directory.  Note, this won't work on a floppy unless all your system
    files are less than 720K.  If you have the compression backup enabled,
    the files will be compressed into a single file named for the current
    date (i.e.  "10_25_91.LZH").
 
[C] Chat Mode Toggle
    Toggle to disable or enable chat mode ringer.  If chat mode is
    disabled, NOCHAT.BLB will be shown to the user.
 
[D] Disable BBS Toggle
    If there is a situation where you wish to disable the BBS from
    accepting any callers but you don't wish to shut your system off, just
    use this command and all calls will be shown DISABLE.BLB and won't be
    allowed to logon unless they know the system password.  After this file
    is show, you can press [CTRL-B] and a "Pw:" prompt will display.  Enter
    your system password and you can get on the BBS as normal.
 
[E] Execute File
    Use the file selector to run any program under ST-Keep; keep in mind
    that you must insure there is enough RAM available for both programs.
    If this command is used from remote, the user must type in the
    drive/path/filename and you must insure they they don't run any
    programs that don't support modem I/O or the system will effectively
    lock-up.
  
[F] Floor Editor
    Edit floor name and floor group access.  New floors can be created by
    using a text editor (like STeno from STrata Software) to add them to
    the STK_FLRS.SYS file in the system folder.  Note that you may have a
    maximum of 255 floors
  
[G] Group Editor
    Edit group names.  The names themselves are meaningless to ST-Keep,
    but they will help you remember who belongs in which group.
 
[K] Kill User
    Delete a user account.  Effectively changes their ACCESS level to 0,
    freeing up this userlog spot for a new user.  When a new user logs on
    and registers, their information will overwrite the information of the
    first accesse level 0 account found, so even if you have 50 empty slots
    in your user account base at the end, if user number 7 has access level
    0, his/her information will vanish when the next new user registers.
 
[M] Mass Userlog Editor
    This command executes BBS_ME.PRG in your system folder.  You can edit
    all accounts by selected fields with this program, rather than one user
    at a time.  Be careful not to change your own access level below 255
    with the masss editor, or you may not be able to access all functions!

[P] Change System Password
    Change the system password.  This password allows access to any user
    account and other secure features of the BBS, so protect it with your
    life!
 
[S] Secure System Toggle
    Make your system secure or open.  If it's secure, all user accounts are
    installed with access level 1, which means they can not leave messages
    or make file transfers until the SysOp upgrades their level.  If your
    system is open, new users are given access level 2 and the default
    on-line time and download ratio that you entered with the
    initialization program.
 
[U] Userlog Editor
    You will be prompted for a username to edit.  Most of the user's data
    can be modified with this command.  You can even print out the user
    information from here.  This command only works on an account in the
    disk file, not the current user on-line.
 
[Z] Change Modem Init String
    You can set your modem initialization string with this command.  The
    initialization string is sent out during the waitcall menu.  The start
    up string MUST contain "AT S0=1 S2=255 M0" at the very least.  These
    commands place your modem in auto-answer mode, refuse remote modem
    command access, and turn your modem speaker off respectively.  ST-Keep
    handles DTR and CARRIER DETECT, so do not force them on your modem.  If
    you have special high speed modems or modems with other features, you
    can attempt to include more options here if necessary so long as they
    don't interfere with CD or DTR.

Aide Commands
-------------

What is an Aide?  He/She is a designated high-level (and trustworthy!)
user whom you ave chosen to manage some of ST-Keeps' functions (hopefully
to take some of the system maintenance burden from you).  Aide commands
are accessed in a similar manner to the Co-SysOp commands, by pressing the
period, the letter "A", and one of the letters indicated below.  Many Aide
commands have sub-commands, which require a fourth keypress to identify.

[E] Edit Room Status
 
    [A] Roomname
        Change the name of the current room.
 
    [B] Number
        Change the current room slot number, currently disabled.
 
    [C] Generation
        Changes the generation number so that all users lose access 
        to this room (unless they are high level users).  This is
        equivalent to uninviting all users. You should increment this
        number by one up to 254, then re-start again at 2.
 
    [D] Floor
        Change the floor number that the current room is located on.
 
    [E] Status
        Toggle to make the current room public, hidden, or invitation 
        only.  Public rooms can be entered by all users.  Hidden 
        rooms can only be entered by users if they [.][G]"ROOMNAME" 
        using the EXACT room name.  Invitation only rooms can only be 
        entered by users who have been [I]nvited, even if they know the
        exact roomname.
 
    [F] Anonymous
        All messages in this room will show ****** hiding the date, 
        time, and author field.  If a user logs on with the system
        password, the headers will show the actual author.
 
    [G] Archived
        Save all the messages in this room to a specified filename 
        for archival purposes.
 
    [H] Directory
        Add or remove directory status for this room.  The format is 
        "C:\FOLDER\".  The trailing backslash is required.
 
    [I] Uploads
        Toggle to allow or disallow file uploads in the current room.  You
        amy choose to allow uploads into only one room on your BBS, so that
        you can check files before posting them for download.   This will
        require more work on your part, but will protect you and your users
        from some types of vandalism to a greater extent than direct
        uploads will.  If you have a lot of "ruggies" in your area, this
        may be a good choice.
 
    [J] Downloads
        Toggle to allow or disallow file downloads in the current room.
 
    [K] Dice Enabled
        Toggle to allow or disallow die rolls in the current room.
 
    [L] Header
        Add or delete a header message for the current room.  The header is
        displayed upon entering the room unless the user has the system
        skip these headers for their account.
 
    [X] Exit
        Ends the room-editing session and returns you to the room prompt.
 
[I] Invite User
    You may invite a user to the current room if it has invitation only 
    status.
 
[K] Kill Room
    Delete this room from the system.  All messages will be erased and the 
    slot for this room will be open for a future room creation.
 
[L] List Aides
    Display a list of the high access users for the BBS, including 
    Aide, Co-SysOp, and SysOp status.
 
[M] Modify Misc Comment Field
    Change the miscellaneous comment field in the message header.  This
    function overrides any personal comment field that a user may have
    configured.  To erase any MCF, just type [RETURN] at the prompt.  The
    MCF is saved with the STK_INFA.SYS file, so if you re-boot your
    computer or re-run the BBS, the MCF will still be active.
 
[S] Set Date & Time
    Set your date or time.  Press [RETURN] if there is no change.
 
[U] Uninvite User
    You may un-invite a user from the current room if it has 
    invitation only status.

Access Levels
-------------
Setting a user's access level will inform ST-Keep to load the appropriate
STK_GRPA.### file for that particular access group.  This information will
configure some basic settings for the user in question.

Privilege Levels
----------------
Unvalidated     These users can not do ANYTHING once they apply for an
                account.  This is the privilege given to new users if your
                BBS is secure and limits new users.
Secured         Able to leave mail to SysOp only once per day.
Messages        Message reading & writing
Xfers           File transfers
Doors           Door Applications
Aide            Global Aide commands
Co-SysOp        Co-SysOp commands
SysOp           SysOp commands
Supervisor      Complete system-wide access

Voting Option
-------------
 
ST-Keep allows the sysop to configure an unlimited number of voter polls
for use on the system.  Votes can be made for all users, or specifically
for users in specific groups.  If you wish to have votes on your system,
you MUST place your poll files in the folder you designated when you ran
BBS_CNFG.PRG.  Two files are required to be created with a text editor by
the SysOp before each vote will be enabled.  VOTENAME.VOT contains the vote
question and the choices, the first 8 characters of the filename can be
your choice, but the extension must be "VOT" or "V##" for group only
votes.  VOTEANSW.ANS contains the number of answers to each choice, the
first 8 characters must match the corresponding vote filename, and the
extension must be "ANS".  You can create votes that can only be taken by
users in a specified group by using the group number as the last 2
characters in the VOT extension.
 
   The first line in each *.VOT file contains the number of the room you
wish the vote results to be posted in.  Please be certain that this room
number exists as an active room on your BBS.  If you do not have a "Vote"
room, you should set this room number equal to either the Aide or SysOp
room (3 or 4) or "0" and no message will be written to record each users
vote.  Ideally, you should have a "Vote" room in order to discuss the topic
and therefore the first line in your file should be equal to that room's
number (i.e. if youre "Vote" room is #23, the first line in your quesion
file will be 23.  To find a room number, either use [R]ead [I]nformation,
[J]umpto [RETURN], or [L]ist Rooms [RETURN] from any room prompt within the
BBS.  After the room number, you should enter a number for the amount of
choices in this particular vote.  Following that line, enter the actual
vote question next.  This can only be one line of data, but its length can
be up to 255 characters, therefore you can not have any special width
formatting in the actual message, ST-Keep will format this line to the
users screen width setting.  The last lines are the choices in the vote.  I
strongly suggest always including an "Other" and "No Opinion" answer for
obvious reasons (you can only have up to 26 choices in your vote including
these two).  Here is a sample vote question file (VOTETEST.VOT):
 
23
7
What telecommunications program do you use on your ST?
Flash
Interlink
Uniterm
STalker
Other
Freeze Dried Terminal
No Opinion
 
   The answer file (VOTETEST.ANS) should contain a "0" on separate lines
for each of your choices.  Since our vote has 6 choices, this is what the
file would look like:
 
0
0
0
0
0
0
0
 
   As you can see, this vote will be recorded in room number 23.  When you
wish to delete an old vote, just remove the VOT extension or delete the
file after you record the final results somewhere on your BBS.
 
Doors
-----
 
   Doors allow an external program (game, utility, etc...) to be run from
within ST-Keep while in a logon session from either a remote user or the
sysop.  If a remote user is running the program, the external program must
redirect IO to the modem itself, as ST-Keep doesn't do this.  Most all
on-line games do this, so you shouldn't have to worry about it.  Otherwise,
any GEM programs or programs that don't re-direct the IO should only be
executed from a local logon.  Also, your FREE RAM must be high enough to
support both ST-Keep and this external program.  An error message in
ST-Keep will occur if you do not have enough free RAM to run a door.  Keep
in mind that if you want group access for different doors, that those won't
appear on the menu for a normal user unless they are a member of that
group.  You can install or delete your own doors with any text editor or
the door editor program included in this archive.  Each door has 5 fields,
all on separate lines, although the file begins with one line stating the
total number of doors you have installed.  This is how the file
(STK_DOOR.SYS) would look with 3 doors installed:
 
3
1
Axolotl Football League
c:\afl\afl.tos
[blank line]
c:\afl\player.dat
15
Flash
c:\flash\flash.prg
[blank line]
[blank line]
2
Safari BBS
c:\bbs.prg
-BBS -pf:\bbs2\
[blank line]
 
   The first line tells ST-Keep how many doors you have installed, be sure
to change this number if you delete or add doors without using the door
editor.  The second line contains the group number of the AFL door,
remember, if users are not members of group 1 they can not get in this
door, so in this instance group 1 is our On-Line Games group.  Line 2 holds
the door name, line 3 the path/filename where this program to run can be
found.  The 4th line is a blank line (CR) for AFL.  The 5th line is only
used if you need to pass the players name to a specific filename, otherwise
it should be a blank line (CR) if it isn't necessary.  As you can see,
those 5 fields are repeated for my Flash door.
 
   If the doors don't work correctly, you're probably just setting the
path/filenames incorrectly or you don't have enough RAM.
 
   ST-Keep can call another program that requires the baud rate (i.e.
another BBS program including ST-Keep, FIDODOOR, etc...) as a door.  This
way you can allow users to enter a totally different system or run the
various networking programs available.  Line 4 of the door data is used for
this feature.  Simply place "-B" on this line and the program to be
executed will be passed the baud rate of the on-line user ("LOCAL" if
local) via the command line parameters.  ST-Keep will also create a
DORINFO1.DEF file in the directory of the new BBS program for use by
FIDODOOR or any other programs that may need the baud rate or door
information file.
 
Door Parameters
---------------
 
-B    Used to tell ST-Keep to treat the door program as a BBS.  ST-Keep
      will send out "LOCAL" on the command line if there is no carrier, and
      "-Bxxxx" (xxxx=baud rate) if there is a carrier so that the door
      program can use this information.
 
-DR   Creates DORINFO1.DEF before executing the specified door program.
-DH   This file will be created in the same folder as the door program that
      you wish to run.  FIDODOOR.TTP requires this file.  -DR passes the
      users real name, while -DH passes the users handle from ST-Keep.  If
-DRG  -DRG or -DHG is used, the Group level, rather than the access level,
-DHG  will be saved in the DORINFO1.DEF file.  This is useful for FIDOdoor or
      the Door Interface Program (DIP).
 
-P    Changes the directory AFTER executing your door program and writing
      DORINFO1.DEF if sent to another ST-Keep BBS.  This is helpfull for
      the bbs so that you only need one BBS.PRG on your drive but multiple
      BBSs can run off of it.  You need to append the pathname after this
      switch to designate the change (i.e.  "-Pc:\folder\").  ST-Keep will
      use the system files located in this folder rather than where BBS.PRG
      was executed from.
 
-T    Will pass 'text' along the command line.  This switch allows you to
      pass a constant string every time this door is executed.  You must
      pass the text directly after this switch (i.e.  "-Tcommand line").
 
-U    Passes only the username along the command line (for on-line games,
      etc...)
 
   You may not pass the -B, -T, or -U switches together as they conflict
with each other.  The other switches can be used together or with one of
these three.
 
Function Keys
-------------
 
[F1] Press this key to get a menu of the function keys available.
 
[F2] Go into chat mode with the current user; if you use this key while
     you are on-line locally, it will go into terminal mode.
 
[F3] Disable chat call toggle.  If a user [C]hats for the SysOp this will
     send a note to the user from NOCHAT.BLB which should basically state
     that "...the SysOp is not around so leave mail or try again later..."
     Chat Mode:  On/Off will be seen in the status line.
 
[F4] This will send a bunch of line noise over the modem, useful to
     terrorize your friends or just before using [F5].
 
[F5] Will drop DTR, hang up on the modem instantly.
  
[F6] Userboot # - enter a number from 0 through 9 after pressing this
     function key, the user will be sent the textfile called USERBOOT.# in
     your MSG directory.  # = the userboot number you chose.  You can
     create such textfiles as "Your time has expired!" or "Sorry, the sysop
     needs the system, please call back later."  After each userboot file
     is printed to the callers screen, the modem will drop carrier on them
     so you can have the system.
 
[F7] Allows access to the aide commands no matter who is online, be
     careful not to show the user anything you don't want them to see.
 
[F8] Allows access to the Co-SysOp commands, otherwise same as [F7].
 
[F9] Access to file commands while a user is on-line.
 
[F10] Status line toggle, if it's on, this will turn it off and give access
      to the full screen for the session.  If it is on, it holds 5 lines of
      information on the users account.  It is automatically turned on when
      a user calls if your system options are configured for it, but is not
      turned on when a user logs on from the console.
 
Function Key Macros
-------------------
 
   Each line in the STK_FUNC.SYS file can contain any text you wish.  Use
ALT-F# to send F1-F10 and ALT-SHIFT-F# to send F11-F20.
 
   These macros could contain such phrases as "Hello, how can I help
you?" so that you can send them when entering chat mode or even enable you
to logon faster if you made one of them your username and the other your
password, although this poses a security risk.
 
Backups
-------
 
ST-Keep will automatically backup (with the supplied BBS_BACK.PRG) your system
files after midnight when the first caller logs off if you have this function
enabled ([.][c][b]).  Just make sure the correct pathname is on your hard
drive, and the files will be copied over there.  You should put the backup
files on a partition other than the same one you're using for the BBS, so that
if the BBS partition fails you have the old files elsewhere.  If you need to
restore from a backup, you MUST copy ALL of the backup files to your BBS
directory, you can not pick and choose from various files.  If you lose just
one or a few of your SYS files, you will still need to copy all of the backup
files over.  Almost all the system files are related, especially the room.sys,
userlog.sys, and msg.sys files and they can't operate correctly if they aren't
from the same backup.  The backup feature doesn't check for enough free space
on your backup partition, so you should periodically check your backup drive
to make sure it has enough free space when you first start.  Once one backup
is complete, ST-Keep will just overwrite those same files so the amount of
backup space required shouldn't change.


Auto-Messages
-------------
  
NEWUSER.MSG - If this file is in your MSG directory, ST-Keep will save the
              contents in the file as a message from user account #1 to
              all new users after they finish their application.
 
HANGUP.MSG - If this file is in your MSG directory, ST-Keep will save the
             contents in the file as a message from user account #1 to all
             users who drop or lose carrier without terminating properly.

 
Moving & Deleting Messages
--------------------------
 
When you use the aide command to move a message, ST-Keep remembers the last
room you moved any previous messages into.  This comes in handy when you are
moving a number of messages into the same room, you can just hit [RETURN] for
the room and the default will be the last room.  Initially this room is set to
the Aide room.  Any user may delete a message they saved previously simply by
pausing the message with [P] and then pressing [D] to resume.  After the
message is displayed, they will be asked to confirm the deletion.  If the
users have their message prompts turned on, they can just press [D] at the
prompt to delete the message if they were the author.


Terminal Mode
-------------
 
BBS_TERM.PRG is a menu driven terminal program supplied with ST-Keep.  You
should be able to operate it nicely from the menu and therefore it won't be
detailed in this document.
 
Downloading Files
-----------------
 
Users may batch download from any room prompt that has directory status.
Batch downloads are only valid with Ymodem and Zmodem.
 
You may notice XFERLIST.DAT and XFER_REC.DAT appear in your bbs folder.  They
are used to record download/upload filenames and are not needed to the BBS
after a user logs off.  You can simply ignore this file.

 
AUTODESK.PRG
------------
 
This program is supplied with ST-Keep to allow access to desk accessories
while keeping ST-Keep loaded.  Press the [CLR/HOME] key at any time and
ST-Keep will run AUTODESK.PRG.  You can then use your DA's and use Quit to
return to the BBS.

 
Dice Roller
-----------
 
[%] from any room except #1 will send the user to a dice menu.  This
    feature is handy for on-line RPG's or other games.

 
BBS Colors
----------
 
Use the PolyChrome DA (COLOUR.ACC) to create STK_INFC.SYS.  This contains the
color information for your personal choices when running BBS.PRG.  If this
file is not present in your bbs directory, ST-Keep will use your system colors
so you could alternately use your control panel and set your preferences.

 
Bulletins
---------
 
Permanent - *.BUP - Always shown to users when they logon
 
New       - *.BUL - Shown only once to each user unless it is updated

Group     - *.B## - Shown only once to each user if they are a member of
                    this group number.  Must be 01 to 15.


Color Graphics Emulation
------------------------
 
You can insert color codes in your *.MNU files to enhance each users VT-52,
Instant Graphics & Sound, Blue Instant Graphics, or ANSI screen
configurations.  When ST-Keep shows any menu, it first looks for the extension
of V52 (for VT-52), IG (Instant Graphics & Sound), BIG (Blue Instant Graphics)
or ANS (for ANSII) and if it can't find any of these it will use MNU.  Simply
use a text editor or a special VT-52 or ANSII editor to create menues for each
type of emulation.  To create IGS menues you will need to obtain the latest
version of IGS found on most BBSs.  To create BIG menues, you can obtain the
Blue Instant Graphics documentation from an IBM BBS and modify your IGS
scripts to work with B.I.G. (be sure to save them with the new extension of
BIG; IGS and BIG are not 100% compatible).

 
Command line parameters usable with ST-Keep (BBS.PRG):
-----------------------------------------------------

-Bxxxxx

Baud rate used when running the BBS as a door so that the callers speed can
be used within ST-Keep for the caller log and file transfer calculations.
The RS232 port will NOT be re-set as normal with this speed as the host
program should have taken care of initializing the port.  "-B0" would signify
a local logon without a modem.

-Ppathname

Requests ST-Keep to change the current working directory to that of
"pathname" (i.e. "-Pd:\stkeep2\") in order to load system files from a
location other than the directory where BBS.PRG is located.  This is useful
if you wish to run more than one ST-Keep allowing others to be spawned
from a host while requiring you to have only one copy of BBS.PRG.


Floors
------

The STK_FLRS.SYS data file contains your system floor information.  The
first line in this file is always the total number of floors that you have
configured.  You must change it whenever adding or deleting floors.  After
this line follows 2 lines for each floor, starting with floor 1.  The
first line is the group number required for access to this floor.  The
second number is the floor name.


Events
------

Events allow you to trigger special functions at specified times while ST-Keep
is waiting for a call or while a user is on-line.  Three types of events are
supported:  PREEMPTIVE , TIMEOUT, and NETWORK (on the way).

You must create a file called STK_EVNT.SYS and place it in your system folder.
The format for the file is as follows:

Line  1:  The number of events in this file.
Line  2:  Type of event (PREEMPTIVE, TIMEOUT, NETWORK).
Line  3:  Days to run (Mon, Tue, etc...)
Line  4:  Time to run
Line  5:  Duration in minutes
Line  6:  Disallow door entry time
Line  7:  Event name
Line  8:  Argument 1
Line  9:  Argument 2
Line 10:  Last date event was run

Lines 2-9 are duplicated for each event in this file.

You can have up to 32000 events.

EVENT TYPES

    PREEMPTIVE events will send a message to the user telling them that system
    maintenance is starting and how long it will run, then it will log the
    user off-line and save their account information before proceeding.  These
    are basically important tasks that can't wait until the user logs off
    (midnight game clean-up, for example).  Otherwise, the event will run from
    the waitcall screen.

    TIMEOUT events will not run until after the user has logged off, or at the
    waitcall screen.  Backing up your *.SYS files with the BBS_BACK.PRG fits
    nicely into this area.

    NETWORK events are pending completion.

EVENT DAYS:

    You can enter a single day (MON) or a list of days separated by commas
    (MON,TUE,FRI), in addition to (ALL) which will run this event every day at
    the specified time.

DURATION:

    Enter a number approximating the total amount of minutes this event will
    take until again allowing incoming calls.

DISALLOW DOOR ENTRIES:

    This option is unavailable at this time.

    Enter a number of minutes here.  If a user attempts to enter a door or
    execute a file transfer and the user has less than this number of minutes
    remaining of on-line time before a specified event is to occur, ST-Keep
    will notify the user that they do not have enough time before the event to
    initiate their request.  This will ensure that time critical events get
    processed on time (networking!).

NAME:

    At this time, event names are:  EXEC (run a specified program and
                                          allows any number of execs)
                                    NETWORK (pending)

ARGUMENT1:

    Used to pass the filename for EXEC to run ("c:\gfa\bbs.prg").

ARGUMENT2:

    Used to pass a command line to the EXEC program.

LAST RUN DATE:

    The last date this event processed.

Example:

3
preemptive
all
00:00
2
exec
n:\today\today.prg
n/a
03/14/1992
timeout
all
00:05
2
exec
h:\bbs\wizfile.prg
n/a
03/14/1992
timeout
mon,wed,fri
02:45
10
exec
c:\bbs\bbs_back.prg
n/a
03/14/1992

As you can see, I have three events.  The last event, backing up the system
files, only runs on the specified days at 02:45am.  The first event runs every
night at midnight (logging any users off) and executes the today.prg (creates
a famous dates in history file).  The second event runs a program called
WIZFILE every night after the today.prg.

Be very careful when you're adding or deleting events from this file, you must
have 8 lines per event and they must be in this format.

Events should be configured chronologically in this file.  That is, if you
have 2 events and one runs at 1am and the other runs at midnight, make sure
the midnight even is first in this file.


