On Error Gosub Fehler
Close #1
Close #2
Print At(1,1);"Textkonverter Version 5.2"
Print Chr$(27)+"p";
Print At(1,2);"Freeware Version 5.2 by Siegfried HÅbner"
Fileselect "\*.TXT",A$,A$
Print Chr$(27)+"q";
Print At(3,7);"Original Textdatei      (.TXT)"
Print At(3,8);"Atari ST                (.ASC)"
If Exist(A$)
  S$="ASC"
  Alt$=Left$(A$,Len(A$)-3)
  Neu$=Alt$+S$
  Open "I",#1,A$
  Open "O",#2,Neu$
  Print At(1,4);"           ProgrammlÑnge ca.";Lof(#1)
  Print At(1,10);"Lese     Datei ";A$
  Print At(1,11);"Schreibe Datei ";Neu$
  Repeat
    Inc D%
    A=Inp(#1)
    If A=136     !à
      A=101      !e
    Endif
    If A=239      !Ô
      A=9         !Zeichen weg
    Endif
    Rem *** † = ***
    If A=226          !‚
      A=Inp(#1)
      If A=130          !Ç
        A=Inp(#1)
        Rem *** Euro ***
        If A=172        !¨
          A=Inp(#1)
          Print #2,"Euro ";
        Endif
      Endif
      If A=150        !ñ
        A=Inp(#1)
        If A=160      !†
          A=61        !=
        Endif
      Endif
    Endif
    If A=151          !ó
      A=Inp(#1)
    Endif
    If A=143          !è
      A=45            !-
    Endif
    Rem **** û ***
    If A=225          !·
      A=158           !û
    Endif
    If A=168          !®
      A=138           !ä
    Endif
    If A=195          !√
      A=Inp(#1)
      If A=132        !Ñ
        A=142         !é
      Endif
    Endif
    If A=150          !ñ
      A=153           !ô
    Endif
    If A=156          !ú
      A=154           !ö
    Endif
    If A=159          !ü
      A=158           !û
    Endif
    If A=164          !§
      A=132           !Ñ
    Endif
    If A=182          !∂
      A=148           !î
    Endif
    If A=188          !º
      A=129           !Å
    Endif
    If A=134          !Ü
      A=Inp(#1)
    Endif
    If A=128          !Ä
      A=Inp(#1)
      If A=162        !¢
        A=Inp(#1)
      Endif
      If A=154        !ö
        A=Inp(#1)
      Endif
      If A=173        !≠
        A=Inp(#1)
      Endif
      If A=152        !ò
        A=39
      Endif
      If A=153        !ô
        A=39          !'
      Endif
      If A=166        !¶
        A=95          !_
      Endif
      If A=147        !ì
        A=45          !-
      Endif
      If A=148        !î
        A=45          !-
      Endif
      ' AnfÅhrungsstriche oben und unten
      If A=157        !ù
        A=34          !"
      Endif
      If A=158        !û
        A=34          !"
      Endif
    Endif
    If A=156          !ú
      A=34            !"
    Endif
    If A=160          !†
      A=Inp(#1)
    Endif
    If A=194          !¬
      A=Inp(#1)
      If A=189        !Ω
        A=Inp(#1)
      Endif
      If A=183        !∑
        A=45          !-
      Endif
      If A=181        !µ
        A=230         !Ê
      Endif
      If A=176        !∞
        A=248         !¯
      Endif
      If A=169        !©
        A=189         !Ω
      Endif
      If A=160        !†
        A=Inp(#1)
      Endif
      If A=173        !≠
        A=Inp(#1)
      Endif
      If A=180        !¥
        A=186         !∫
      Endif
      If A=171        !´
        A=174         !Æ
      Endif
      If A=187        !ª
        A=175         !Ø
      Endif
    Endif
    If A<Asc("ª") Xor A=Asc("ò") Xor A=9
      Print #2,Chr$(A);
    Endif
    Print At(1,5);"Konvertiere Text-Zeichen Nr.";D%
  Until Eof(#1)
Endif
Close #1
Close #2
Cls
Print At(1,1);"Adresse: Siegfried HÅbner"
Print At(1,2);"         St.-Gundekar-Str. 29 b"
Print At(1,3);"         91560 Heilsbronn"
Print At(1,5);"Freeware Version 5.2 (frei kopierbar)"
Print At(1,6);"E-Mail: gott.liebt.dich.auch@gmail.com"
Print At(1,8);"Heilsbronn den 01.12.2021"
Alert 3,"Noch einen Text| Konvertieren| TXT ---> ASC",1,"Ja|Nein",D%
If D%=1
  Run
Else
  End
Endif
Procedure Fehler
  Run
Return
