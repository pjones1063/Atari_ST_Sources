 MODULE UsrTrace; (*$L-*)  FROM ModCtrl IMPORT InstallModule, ReleaseModule, FirstModuleStart;  FROM MOSGlobals IMPORT MemArea;  FROM SYSTEM IMPORT ASSEMBLER;  VAR wsp: MemArea;   CONST   RegD0 = 04; RegD1 = 08; RegD2 = 12; RegD3 = 16; RegD4 = 20; RegD5 = 24;(RegD6 = 28; RegD7 = 32; RegA0 = 36; RegA1 = 40; RegA2 = 44; RegA3 = 48;(RegA4 = 52; RegA5 = 56; RegA6 = 60; RegA7 = 64; RegSR = 02; RegPC = 68;(RegUSP = 72; RegSSP = 76; RegBEV = 80; RegAEV = 84;   VAR"cnt: CARDINAL;  PROCEDURE trc;"BEGIN$ASSEMBLER(; In A0 erh„lt sie einen Zeiger auf die CPU-Register.(; In D0.B muž die Routine einen Wert ungleich Null liefern, wenn(; der Trace-Modus unterbrochen werden soll.(TST.B   RegA5(A0)(SNE     D0$END"END trc;  PROCEDURE install;"BEGIN$ASSEMBLER(MOVE.L  #trc,$3F0$END"END install;  PROCEDURE dummy; END dummy;  BEGIN"ASSEMBLER(PEA     install(MOVE    #38,-(A7)(TRAP    #14(ADDQ.L  #6,A7"END;"InstallModule (dummy,wsp)  (* Dieses Modul resident machen *) END UsrTrace. 
(* $FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$000003F0$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15$FFED9E15€$000001ECT.......T.......T.......T.......T.......T.......T.......T.......T.......T.......$000002F5$000001EC$FFEBEA10$FFEBEA10$FFEBEA10$FFEBEA10$FFEBEA10$FFEBEA10$FFEBEA10$000003F5$0000037F$000003F6$000003C7$FFEBEA10$00000206$00000349ˆ€‚*)
