( Definition of words for )
( the search-order wordset )

( JPS, 13mar93 )

( FORTH-WORDLIST is already defined in the kernel )
( SEARCH-WORDLIST is already defined in the kernel )


: DEFINITIONS ( -- )
	vocpa @ DUP @ + @ current ! ;
	
	
: GET-CURRENT ( -- wid )
	current @ ;
	
: GET-ORDER ( -- wid1 ... widn n )
	vocpa @ DUP 
	@ 4 / DUP >R
	0 DO
		CELL+ DUP @ SWAP
	LOOP
	DROP ( addr )
	R> ;
	

: SET-CURRENT ( wid -- )
	current ! ;
	
: SET-ORDER ( wid1 ... widn n -- )
	DUP >R				( save n )
	4 * vocpa @ !		( save height of vocstack )
	R> 0 
	DO
		vocpa @ DUP @ +
		I CELLS -  !
	LOOP ; 

HERE 0 , CONSTANT NULLPTR 
 
: WORDLIST ( -- wid )
	HERE  NULLPTR , ;


S" SEARCH-ORDER" 				TRUE 	1 SET-ENVIRONMENT
S" SEARCH-ORDER-EXT" 			FALSE 	1 SET-ENVIRONMENT
S" WORDLISTS" 					20 		1 SET-ENVIRONMENT
	 






