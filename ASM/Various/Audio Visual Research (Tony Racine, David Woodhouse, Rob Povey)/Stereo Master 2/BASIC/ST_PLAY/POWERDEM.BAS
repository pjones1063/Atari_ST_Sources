' A SIMPLE EXAMPLE OF USING SAMPLES FROM POWER BASIC
' ALSO RUNS UNDER HISOFT BASIC
'    BY A.R and D.A.W   (C) 2-BIT SYSTEMS LTD  1990
'
DIM CODE%(2000)							' SPACE FOR CODE
DIM SAMPLE%(13000)						' SPACE FOR SAMPLE

PRINT "Load Machine Code ...."
BLOAD "BASCODE.EXE",VARPTR(CODE%(0))	' LOAD CODE

PLAY = VARPTR(CODE%(0))+28				' PLAY SAMPLE

SPEED    = PLAY + 10					' PLAY BACK SPEED
SAMSTART = PLAY + 2					' START ADDRESS OF SAMPLE
LENGTH   = PLAY + 6					' LENGTH OF SAMPLE (BYTES)

PRINT "Load sample ...."
BLOAD "SAMPLE.SAM",VARPTR(SAMPLE%(0))	' LOAD SAMPLE
START = VARPTR(SAMPLE%(0))

POKEL SAMSTART,START    				' SAMPLE START
POKEL LENGTH,11000      				' LENGTH OF SAMPLE

PRINT "Play sample at different speeds ...."
FOR X = 1 TO 4
	POKEL SPEED,X
	CALL LOC PLAY
NEXT X
PRINT
PRINT "FINISHED."
