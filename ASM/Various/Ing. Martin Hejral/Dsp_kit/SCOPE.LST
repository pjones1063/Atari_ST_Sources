PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   1
Source File: C:\WORK\C\DSP\SCOPE.S

   1                                    ;*********************************************************
   2                                    ;
   3                                    ;              routines modified from
   4                                    ;
   5                                    ;                   Music Analyzer
   6                                    ;               by Roel van de Kraats
   7                                    ;                       1995
   8                                    ;
   9                                    ;*********************************************************
  10  
  11                                    	EXPORT	draw_scope
  12                                    	EXPORT	draw_spectrum
  13                                    	EXPORT	draw_vu
  14  
  15                                    	IMPORT	xm,ym,bitplanes
  16  
  17                                    ;;len_of_scr	equ	153600
  18                                    len_scopebuf	equ	128*256/8*4
  19                                    len_vubuf	equ	44*80/8*4
  20                                    len_iconsbuf	equ	32/8*4*32*22
  21                                    len_mstxtbuf	equ	12*64/8*4
  22                                    len_lrbuf	equ	80*(80/8*4+2*8/8*4)
  23                                    ;;b_line		equ	320	; # of bytes on line
  24                                    points		equ	256
  25  
  26  
  27  
  28                                    ;*********************************************************
  29  
  30                                    		TEXT
  31  
  32                                    ;---------------------------------------------------------
  33                                    ;*********************************************************
  34  
  35 00000000'                          draw_vu:
  36 00000000' 48E7 FFFE                		movem.l	d0-a6,-(a7)	;save registers
  37  
  38                                    		;clear vu background
  39 00000004' 2079 00000000"           		move.l	vubuf,a0
  40 0000000A' 2279 00000000"           		move.l	scr,a1
  41                                    ;		adda.l	#b_line*45+(48/8*4)+40,a1
  42 00000010' 303C 002B                		move.w	#43,d0
  43 00000014'                          loop_clrvu:
  44 00000014' 4CD8 1CFE                		movem.l (a0)+,d1-d7/a2-a4
  45 00000018' 48E1 7F38                		movem.l d1-d7/a2-a4,-(a1)
  46 0000001C' D2FC 0110                		adda.w	#232+40,a1
  47 00000020' 48E1 7F38                		movem.l d1-d7/a2-a4,-(a1)
  48 00000024' D2FC FF40"               		adda.w	#b_line-232+40,a1
  49 00000028' 51C8 FFEA                		dbra	d0,loop_clrvu
  50  
  51                                    		;draw vu's
  52 0000002C' 303C 0058                		move.w	#88,d0
  53 00000030' 3239 00000000"           		move.w	leftvu,d1
  54 00000036' E049                     		lsr.w	#8,d1
  55 00000038' 6114                     		bsr	put_vu
  56 0000003A' 303C 0228                		move.w	#552,d0
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   2
Source File: C:\WORK\C\DSP\SCOPE.S

  57 0000003E' 3239 00000000"           		move.w	rightvu,d1
  58 00000044' E049                     		lsr.w	#8,d1
  59 00000046' 6106                     		bsr	put_vu
  60                                    		
  61 00000048' 4CDF 7FFF                		movem.l	(a7)+,d0-a6	;restore registers
  62 0000004C' 4E75                     		rts
  63  
  64  
  65  
  66                                    ;*********************************************************
  67  
  68                                    ;d0=x, d1=angle
  69 0000004E'                          put_vu:
  70 0000004E' 41F9 00000000`           		lea	vu_x,a0
  71 00000054' 4881                     		ext.w	d1
  72 00000056' 3430 1200                		move.w	(a0,d1*2),d2	;x
  73 0000005A' 3A02                     		move.w	d2,d5		;dx
  74 0000005C' D440                     		add.w	d0,d2
  75 0000005E' 41F9 00000000`           		lea	vu_y,a0
  76 00000064' 3630 1200                		move.w	(a0,d1*2),d3	;y
  77 00000068' 3803                     		move.w	d3,d4		;dy
  78 0000006A' D67C 0060                		add.w	#96,d3
  79  
  80 0000006E' 48C5                     		ext.l	d5
  81 00000070' E18D                     		lsl.l	#8,d5		;dx*256
  82 00000072' 8BC4                     		divs	d4,d5		;dx*256/dy
  83 00000074' 48C5                     		ext.l	d5
  84 00000076' 48C2                     		ext.l	d2
  85 00000078' E18A                     		lsl.l	#8,d2		;x*256
  86  
  87 0000007A' 2079 00000000"           		move.l	scr,a0
  88 00000080' 3003                     		move.w	d3,d0
  89 00000082' C0FC 0000"               		mulu.w	#b_line,d0
  90 00000086' D1C0                     		add.l	d0,a0		;addr of 1st line
  91  
  92 00000088'                          loop_pvu:
  93 00000088' B67C 0057                		cmp.w	#89-2,d3	;shadow still in range?
  94 0000008C' 6C28                     		bge	cont_pvu	;no
  95  
  96 0000008E' 2248                     		move.l	a0,a1
  97 00000090' 2002                     		move.l	d2,d0
  98 00000092' 90BC 0000 0200           		sub.l	#256*2,d0
  99 00000098' E088                     		lsr.l	#8,d0
 100 0000009A' 3200                     		move.w	d0,d1
 101 0000009C' E848                     		lsr.w	#4,d0
 102 0000009E' E748                     		lsl.w	#3,d0
 103 000000A0' D2C0                     		add.w	d0,a1
 104 000000A2' C27C 000F                		and.w	#$f,d1
 105 000000A6' 7E00                     		moveq	#0,d7
 106 000000A8' 4441                     		neg.w	d1
 107 000000AA' D27C 000F                		add.w	#15,d1
 108 000000AE' 03C7                     		bset	d1,d7
 109  
 110 000000B0' 3C07                     		move.w	d7,d6
 111 000000B2' 4646                     		not.w	d6
 112  
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   3
Source File: C:\WORK\C\DSP\SCOPE.S

 113                                    ;		move.w	(b_line*2,a1),d0
 114                                    ;		or.w	(b_line*2+2,a1),d0
 115                                    ;		or.w	(b_line*2+4,a1),d0
 116                                    ;		or.w	(b_line*2+6,a1),d0
 117 000000B4' C047                     		and.w	d7,d0
 118 000000B6'                          		bne	cont_pvu		;not on white background
 119  
 120                                    ;		and.w	d6,(b_line*2,a1)
 121                                    ;		or.w	d7,(b_line*2+2,a1)
 122                                    ;		or.w	d7,(b_line*2+4,a1)
 123                                    ;		or.w	d7,(b_line*2+6,a1)
 124 000000B6'                          cont_pvu:
 125 000000B6' 2248                     		move.l	a0,a1
 126 000000B8' 2002                     		move.l	d2,d0
 127 000000BA' E088                     		lsr.l	#8,d0
 128 000000BC' 3200                     		move.w	d0,d1
 129 000000BE' E848                     		lsr.w	#4,d0
 130 000000C0' E748                     		lsl.w	#3,d0
 131 000000C2' D2C0                     		add.w	d0,a1
 132 000000C4' C27C 000F                		and.w	#$f,d1
 133 000000C8' 7E00                     		moveq	#0,d7
 134 000000CA' 4441                     		neg.w	d1
 135 000000CC' D27C 000F                		add.w	#15,d1
 136 000000D0' 03C7                     		bset	d1,d7
 137  
 138 000000D2' 8F51                     		or.w	d7,(a1)
 139 000000D4' 8F69 0002                		or.w	d7,2(a1)
 140 000000D8' 8F69 0004                		or.w	d7,4(a1)
 141 000000DC' 8F69 0006                		or.w	d7,6(a1)
 142  
 143 000000E0' D0FC 0000"               		add.w	#b_line,a0
 144 000000E4' D485                     		add.l	d5,d2
 145  
 146 000000E6' 5243                     		addq.w	#1,d3
 147 000000E8' B67C 0059                		cmp.w	#89,d3
 148 000000EC' 669A                     		bne	loop_pvu
 149  
 150 000000EE' 4E75                     		rts	;from put_vu
 151  
 152  
 153  
 154                                    ;---------------------------------------------------------
 155                                    ;*********************************************************
 156  
 157 000000F0'                          draw_spectrum:
 158 000000F0' 48E7 FFFE                		movem.l	d0-a6,-(a7)	;save registers
 159  
 160                                    		;clear spectrum analyzer bars
 161 000000F4' 2079 00000000"           		move.l	scr,a0
 162                                    ;		adda.l	#b_line*160+4*8+112,a0
 163 000000FA' 2248                     		move.l	a0,a1
 164 000000FC' D2FC 0090                		adda.w	#18*8,a1
 165 00000100' 7200                     		moveq	#0,d1
 166 00000102' 2401                     		move.l	d1,d2
 167 00000104' 2601                     		move.l	d1,d3
 168 00000106' 2801                     		move.l	d1,d4
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   4
Source File: C:\WORK\C\DSP\SCOPE.S

 169 00000108' 2A01                     		move.l	d1,d5
 170 0000010A' 2C01                     		move.l	d1,d6
 171 0000010C' 2E01                     		move.l	d1,d7
 172 0000010E' 2441                     		move.l	d1,a2
 173 00000110' 2641                     		move.l	d1,a3
 174 00000112' 2841                     		move.l	d1,a4
 175 00000114' 303C 0071                		move.w	#113,d0
 176 00000118' 48E0 7F30                loop_clrsp:	movem.l d1-d7/a2-a3,-(a0)
 177 0000011C' 48E0 7F30                		movem.l d1-d7/a2-a3,-(a0)
 178 00000120' 48E0 7F38                		movem.l d1-d7/a2-a4,-(a0)
 179 00000124' 48E1 7F30                		movem.l d1-d7/a2-a3,-(a1)
 180 00000128' 48E1 7F30                		movem.l d1-d7/a2-a3,-(a1)
 181 0000012C' 48E1 7F38                		movem.l d1-d7/a2-a4,-(a1)
 182 00000130' D0FC 0070"               		adda.w	#b_line+112,a0
 183 00000134' D2FC 0070"               		adda.w	#b_line+112,a1
 184 00000138' 51C8 FFDE                		dbra	d0,loop_clrsp
 185  
 186  
 187                                    		;put spectrum analyzer bars
 188 0000013C' 343C 000D                		move.w	#13,d2
 189 00000140' 43F9 00000000"           		lea	buf2,a1
 190 00000146' 47F9 00000000"           		lea	left_bars,a3
 191 0000014C' 45F9 00000000`           		lea	log2,a2
 192 00000152' 363C 0004                		move.w	#4,d3
 193 00000156'                          loop_putlbars:
 194 00000156' 3219                     		move.w	(a1)+,d1
 195 00000158' 5289                     		addq.l	#1,a1
 196 0000015A' C27C 07FF                		and.w	#$7ff,d1
 197 0000015E' 1232 1000                		move.b	(a2,d1),d1
 198 00000162' C27C 00FF                		and.w	#$ff,d1
 199 00000166' 3813                     		move.w	(a3),d4
 200 00000168' 9244                     		sub.w	d4,d1
 201 0000016A' E241                     		asr.w	#1,d1			;slow it down a little
 202 0000016C' D244                     		add.w	d4,d1
 203 0000016E' 36C1                     		move.w	d1,(a3)+
 204  
 205 00000170' 3003                     		move	d3,d0
 206 00000172' 6174                     		bsr	draw_bar
 207 00000174' 5243                     		addq.w	#1,d3
 208 00000176' 51CA FFDE                		dbra	d2,loop_putlbars
 209  
 210  
 211 0000017A' 343C 000D                		move.w	#13,d2
 212                                    		;lea	buf2+14*3,a1
 213 0000017E' 47F9 00000000"           		lea	right_bars,a3
 214                                    		;lea	log2,a2
 215 00000184' 363C 0016                		move.w	#22,d3
 216 00000188'                          loop_putrbars:
 217 00000188' 3219                     		move.w	(a1)+,d1
 218 0000018A' 5289                     		addq.l	#1,a1
 219 0000018C' C27C 07FF                		and.w	#$7ff,d1
 220 00000190' 1232 1000                		move.b	(a2,d1),d1
 221 00000194' C27C 00FF                		and.w	#$ff,d1
 222 00000198' 3813                     		move.w	(a3),d4
 223 0000019A' 9244                     		sub.w	d4,d1
 224 0000019C' E241                     		asr.w	#1,d1
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   5
Source File: C:\WORK\C\DSP\SCOPE.S

 225 0000019E' D244                     		add.w	d4,d1
 226 000001A0' 36C1                     		move.w	d1,(a3)+
 227  
 228 000001A2' 3003                     		move	d3,d0
 229 000001A4' 6142                     		bsr	draw_bar
 230 000001A6' 5243                     		addq.w	#1,d3
 231 000001A8' 51CA FFDE                		dbra	d2,loop_putrbars
 232  
 233 000001AC' 6034                     		bra	no_freeze
 234  
 235 000001AE'                          freeze2:
 236  
 237  
 238                                    		;put spectrum analyzer bars
 239 000001AE' 343C 000D                		move.w	#13,d2
 240 000001B2' 47F9 00000000"           		lea	left_bars,a3
 241 000001B8' 363C 0004                		move.w	#4,d3
 242 000001BC'                          loop_putlbars2:
 243 000001BC' 321B                     		move.w	(a3)+,d1
 244 000001BE' 3003                     		move	d3,d0
 245 000001C0' 6126                     		bsr	draw_bar
 246 000001C2' 5243                     		addq.w	#1,d3
 247 000001C4' 51CA FFF6                		dbra	d2,loop_putlbars2
 248  
 249 000001C8' 343C 000D                		move.w	#13,d2
 250 000001CC' 47F9 00000000"           		lea	right_bars,a3
 251 000001D2' 363C 0016                		move.w	#22,d3
 252 000001D6'                          loop_putrbars2:
 253 000001D6' 321B                     		move.w	(a3)+,d1
 254 000001D8' 3003                     		move	d3,d0
 255 000001DA' 610C                     		bsr	draw_bar
 256 000001DC' 5243                     		addq.w	#1,d3
 257 000001DE' 51CA FFF6                		dbra	d2,loop_putrbars2
 258  
 259 000001E2'                          no_freeze:
 260  
 261 000001E2' 4CDF 7FFF                		movem.l	(a7)+,d0-a6	;restore registers
 262 000001E6' 4E75                     		rts  	;from draw_spectrum
 263  
 264  
 265  
 266                                    ;*********************************************************
 267  
 268                                    ;draw bar for spectrum analyzer
 269                                    ;d0=x, d1=h
 270 000001E8'                          draw_bar:
 271 000001E8' 2079 00000000"           		move.l	scr,a0
 272                                    ;		adda.l	#272*b_line,a0
 273 000001EE' E748                     		lsl.w	#3,d0
 274 000001F0' D0C0                     		adda.w	d0,a0
 275 000001F2' 7800                     		moveq	#$00000000,d4
 276 000001F4' 2A3C 0000 3FFC           		move.l	#$00003ffc,d5
 277 000001FA' 2C3C 3FFC 3FFC           		move.l	#$3ffc3ffc,d6
 278 00000200' 2E3C 3FFC 0000           		move.l	#$3ffc0000,d7
 279 00000206' 2085                     		move.l	d5,(a0)
 280 00000208' 2144 0004                		move.l	d4,4(a0)
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   6
Source File: C:\WORK\C\DSP\SCOPE.S

 281                                    ;		sub.w	#b_line,a0
 282 0000020C' 5341                     		subq.w	#1,d1
 283 0000020E' 6C02                     		bge	cont_db
 284 00000210' 4E75                     		rts
 285 00000212'                          cont_db:
 286 00000212' 2086                     loop_db:	move.l	d6,(a0)
 287 00000214' 2147 0004                		move.l	d7,4(a0)
 288                                    ;		move.l	d5,-b_line(a0)
 289                                    ;		move.l	d4,4-b_line(a0)
 290                                    ;		sub.w	#b_line*2,a0
 291 00000218' 51C9 FFF8                		dbra	d1,loop_db
 292 0000021C' 4E75                     		rts
 293  
 294  
 295  
 296                                    ;---------------------------------------------------------
 297                                    ;*********************************************************
 298                                    ; -> A0: data to show
 299                                    ; -> D0: X-position on screen
 300                                    ; -> D1: Y-position on screen
 301  
 302 0000021E'                          draw_scope:
 303 0000021E' 48E7 FFFE                		movem.l	d0-a6,-(a7)	;save registers
 304  
 305 00000222' 23C8 00000000"           		move.l	a0,dataptr	;save data pointer
 306  
 307 00000228' 3F3C 0003                		move.w	#3,-(a7)	;Logbase()
 308 0000022C' 4E4E                     		trap 	#14		;XBIOS
 309 0000022E' 548F                     		add.l	#2,a7
 310 00000230' 23C0 00000000"           		move.l	d0,scr	;save pointer to video memory
 311  
 312                                    		;compute line length in bytes
 313 00000236' 3639 00000000*           		move.w	bitplanes,d3
 314 0000023C' C6F9 00000000*           		mulu.w	xm,d3
 315 00000242' E68B                     		lsr.l	#3,d3	;/8
 316 00000244' 23C3 00000000"           		move.l	d3,b_line
 317  
 318                                    ;*** clear scope background ***
 319 0000024A' 2079 00000000"           		move.l	scr,a0
 320 00000250' 303C 0080                		move.w	#128,d0	;height
 321 00000254'                          loop_clrsc:
 322 00000254' 2248                     		move.l	a0,a1
 323 00000256' 323C 00FF                		move.w	#255,d1	;width in words
 324 0000025A' E841                     		asr.w	#4,d1	;/16
 325 0000025C'                          loop_clrx:
 326 0000025C' 4251                     		clr.w	(a1)
 327 0000025E' 5089                     		add.l	#4*2,a1	;add # of bitplanes
 328 00000260' 51C9 FFFA                		dbra		d1,loop_clrx
 329  
 330 00000264' D1F9 00000000"           		add.l	b_line,a0	;increment Y
 331 0000026A' 51C8 FFE8                		dbra		d0,loop_clrsc
 332  
 333                                    ;*** show samples ***
 334 0000026E' 303C 0000                		move.w	#0,d0
 335 00000272' 2079 00000000"           		move.l	dataptr,a0
 336 00000278' 6106                     		bsr  	put_scope
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   7
Source File: C:\WORK\C\DSP\SCOPE.S

 337  
 338 0000027A' 4CDF 7FFF                		movem.l	(a7)+,d0-a6	;restore registers
 339 0000027E' 4E75                     		rts  	;from draw_scope
 340  
 341  
 342  
 343                                    ;*********************************************************
 344  
 345                                    ;don't try too hard understanding this routine!
 346                                    ;(it's optimized 'a little' and doesn't have a lot of comments added)
 347  
 348                                    ; -> D0.w = start x
 349                                    ; -> A0.l point to sound data
 350  
 351 00000280'                          put_scope:
 352 00000280' 2479 00000000"           		move.l	scr,a2	;A2 point to screen memory
 353 00000286' 3200                     		move.w	d0,d1
 354 00000288' C27C FFF0                		and.w	#$FFF0,d1	;X = N x 16 pixels
 355 0000028C' C2F9 00000000*           		mulu.w	bitplanes,d1
 356 00000292' E681                     		asr.l	#3,d1	;X x bitplanes / 8 = X in bytes
 357 00000294' D5C1                     		add.l	d1,a2
 358 00000296' 3200                     		move.w	d0,d1
 359 00000298' C27C 000F                		and.w	#$F,d1
 360 0000029C' 4441                     		neg.w	d1
 361 0000029E' D27C 000F                		add.w	#15,d1
 362 000002A2' 7800                     		moveq	#0,d4
 363 000002A4' 03C4                     		bset 	d1,d4	;D4: bit on X-position is SET
 364  
 365 000002A6' 323C 00FE                		move.w	#254,d1	;X counter
 366 000002AA' 1E10                     		move.b	(a0),d7	;D7 = first data point
 367 000002AC' 4887                     		ext.w	d7
 368 000002AE' E247                     		asr.w	d7
 369 000002B0' 4447                     		neg.w	d7
 370 000002B2' DE7C 0040                		add.w	#64,d7
 371  
 372 000002B6' 224A                     		move.l	a2,a1		;start of video memory
 373 000002B8' 3607                     		move.w	d7,d3
 374 000002BA' C6F9 00000000*           		mulu.w	bitplanes,d3
 375 000002C0' C6F9 00000000*           		mulu.w	xm,d3
 376 000002C6' E68B                     		lsr.l	#3,d3
 377 000002C8' D3C3                     		add.l	d3,a1		;point to first location for output
 378 000002CA'                          loop_ps:
 379                                    		;*** for all samples ***
 380 000002CA' 5448                     		addq.w	#2,a0		;increment data pointer
 381 000002CC' 1410                     		move.b	(a0),d2		;D2 = next data point
 382 000002CE' 4882                     		ext.w	d2
 383 000002D0' E242                     		asr.w	d2
 384 000002D2' 4442                     		neg.w	d2
 385 000002D4' D47C 0040                		add.w	#64,d2
 386  
 387 000002D8' 2C39 00000000"           		move.l	b_line,d6		;D6 = - size of screen line in B
 388 000002DE' 4486                     		neg.l	d6
 389 000002E0' 3607                     		move.w	d7,d3		;D3 = previous data (Y)
 390 000002E2' 9E42                     		sub.w	d2,d7		;D7 -= D2 -> Y difference between 2 points
 391 000002E4' 6A04                     		bpl  	cont_ps		;go if plus
 392  
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   8
Source File: C:\WORK\C\DSP\SCOPE.S

 393 000002E6' 4446                     		neg.w	d6	;change sign of number
 394 000002E8' 4447                     		neg.w	d7	;change sign of number
 395 000002EA'                          cont_ps:
 396                                    ;;;		move.l	a2,a1		;start of video memory
 397  
 398                                    ;;		ext.l	d3			;D3 is previous Y
 399                                    ;;		lsl.l	#6,d3			;
 400                                    ;;		add.l	d3,a1			;* 320 (=b_line)
 401                                    ;;		lsl.l	#2,d3			;
 402                                    ;;;		mulu.w	bitplanes,d3
 403                                    ;;;		mulu.w	xm,d3
 404                                    ;;;		lsr.l	#3,d3
 405                                    ;;;		add.l	d3,a1		;add Y-offset in memory
 406  
 407                                    ;		move.w	d4,d5		;D4 with one bit on X-pos. set
 408                                    ;		not.w	d5			;D5 = NOT D4 (for masking)
 409  
 410 000002EA' 3007                     		move.w	d7,d0
 411 000002EC' 6702                     		beq  	cont_ps4		;if diff. equal 0
 412  
 413                                    ;;;;		subq.w	#1,d7
 414 000002EE' 3007                     		move.w	d7,d0
 415 000002F0'                          cont_ps4:
 416 000002F0' E24F                     		lsr.w	#1,d7		;Y difference / 2
 417 000002F2' 9047                     		sub.w	d7,d0
 418  
 419 000002F4'                          loop_ps2:
 420                                    		;*** 1. column with height = Y diff. ***
 421 000002F4' 8951                     		or.w 	d4,(a1)
 422 000002F6' D2C6                     		adda.w	d6,a1			;next Y
 423 000002F8' 51C8 FFFA                		dbra 	d0,loop_ps2
 424  
 425 000002FC' 92C6                     		suba.w	d6,a1	;!!!???
 426 000002FE' E25C                     		ror.w	d4
 427 00000300' 6A04                     		bpl  	cont_ps2
 428  
 429 00000302' 504A                     		addq.w	#8,a2		;next word in bitplane
 430 00000304' 5049                     		addq.w	#8,a1
 431 00000306'                          cont_ps2:
 432 00000306' 3007                     		move.w	d7,d0		;Y difference / 2
 433                                    ;		sub.w	#1,d0	;!!!???
 434 00000308' 6F0A                     		ble  	cont_ps3
 435  
 436                                    ;		ror.w	d5	;not used
 437 0000030A'                          loop_ps3:
 438                                    		;*** 2. column with height = Y diff. ***
 439 0000030A' 8969 0002                		or.w 	d4,2(a1)
 440 0000030E' D2C6                     		adda.w	d6,a1		;next Y
 441 00000310' 51C8 FFF8                		dbra 	d0,loop_ps3
 442 00000314'                          cont_ps3:
 443 00000314' 3E02                     		move.w	d2,d7		;D7 = previous data (sample) is current in this loop
 444 00000316' 51C9 FFB2                		dbra 	d1,loop_ps	;next X (get next sample)
 445  
 446 0000031A' 4E75                     		rts  	;from put_scope
 447  
 448  
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page   9
Source File: C:\WORK\C\DSP\SCOPE.S

 449  
 450                                    ;---------------------------------------------------------
 451                                    ;*********************************************************
 452  
 453                                    ;d0=x,d1=y,a6=scr
 454                                    	MACRO	draw_point
 455                                    		ext.l	d1
 456                                    		lsl.l	#6,d1			;
 457                                    		move.l	d1,d2			;* b_line
 458                                    		lsl.l	#2,d1			;
 459                                    		add.l	d1,d2			;
 460                                    		move.w	d0,d1
 461                                    		and.w	#$f,d1
 462                                    		and.b	#$f0,d0
 463                                    		lsr.w	#1,d0
 464                                    		ext.l	d0
 465                                    		add.l	d0,d2
 466                                    		moveq	#0,d0
 467                                    		neg.w	d1
 468                                    		add.w	#15,d1
 469                                    		bset	d1,d0
 470                                    		;move.w	d0,d1
 471                                    		;not.w	d1
 472                                    
 473                                    		;color 10 : green
 474                                    
 475                                    		;and.w	d1,(a6,d2.l)		;these bitplanes don't change
 476                                    		or.w	d0,2(a6,d2.l)
 477                                    		;and.w	d1,4(a6,d2.l)
 478                                    		or.w	d0,6(a6,d2.l)
 479                                    	ENDM
 480  
 481  
 482  
 483                                    ;Draw line using Bresenham line plot algorithm:
 484                                    ;
 485                                    ;	..
 486                                    ;	..
 487                                    ;	e:=2*deltay-deltax;
 488                                    ;	for i:=0 to deltax do begin
 489                                    ;		Plot(x,y);
 490                                    ;		if e>0 then begin
 491                                    ;			y:=y+1;
 492                                    ;			e:=e+2*deltay-2*deltax;
 493                                    ;		end
 494                                    ;		else
 495                                    ;			e:=e+2*deltay;
 496                                    ;		x:=x+1;
 497                                    ;	end;
 498                                    ;	..
 499                                    ;	..
 500                                    ;
 501                                    ;d0=x1,d1=y1,d2=x2,d3=y2
 502                                    ;a6=screen address (used in macro draw_point)
 503 0000031C'                          draw_line:
 504 0000031C' B042                     		cmp.w	d2,d0		;x2,x1
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  10
Source File: C:\WORK\C\DSP\SCOPE.S

 505 0000031E' 6F0C                     		ble	cont_dl1	;x2>=x1
 506 00000320' 3E02                     		move.w	d2,d7		;x2
 507 00000322' 3400                     		move.w	d0,d2
 508 00000324' 3007                     		move.w	d7,d0
 509 00000326' 3E03                     		move.w	d3,d7		;y2
 510 00000328' 3601                     		move.w	d1,d3
 511 0000032A' 3207                     		move.w	d7,d1
 512 0000032C'                          cont_dl1:
 513 0000032C' 3C02                     		move.w	d2,d6		;x2
 514 0000032E' 9C40                     		sub.w	d0,d6		;x2-x1=deltax
 515 00000330' 3E03                     		move.w	d3,d7		;y2
 516 00000332' 9E41                     		sub.w	d1,d7		;y2-y1=deltay
 517  
 518 00000334' B243                     		cmp.w	d3,d1		;y2,y1
 519 00000336' 6F00 00B4                		ble	cont_dl2	;y2>=y1
 520  
 521 0000033A' 4447                     		neg.w	d7		;deltay=-deltay
 522 0000033C' BC47                     		cmp.w	d7,d6		;deltay,deltax
 523 0000033E' 6C56                     		bge	cont_dl3	;deltay<=deltax
 524  
 525 00000340' 3040                     		move.w	d0,a0		;x1
 526 00000342' 3241                     		move.w	d1,a1		;y1
 527 00000344' 3606                     		move.w	d6,d3		;e=deltax
 528 00000346' D643                     		add.w	d3,d3		;*2
 529 00000348' 9647                     		sub.w	d7,d3		;-deltay
 530 0000034A' 3807                     		move.w	d7,d4		;deltay
 531  
 532 0000034C' DC46                     		add.w	d6,d6		;2*deltax
 533 0000034E' DE47                     		add.w	d7,d7		;2*deltay
 534 00000350'                          loop_dl1:
 535 00000350' 3008                     		move.w	a0,d0		;x
 536 00000352' 3209                     		move.w	a1,d1		;y
 537                                    		draw_point
 455 00000354' 48C1                    +		ext.l	d1
 456 00000356' ED89                    +		lsl.l	#6,d1			;
 457 00000358' 2401                    +		move.l	d1,d2			;* b_line
 458 0000035A' E589                    +		lsl.l	#2,d1			;
 459 0000035C' D481                    +		add.l	d1,d2			;
 460 0000035E' 3200                    +		move.w	d0,d1
 461 00000360' C27C 000F               +		and.w	#$f,d1
 462 00000364' C03C 00F0               +		and.b	#$f0,d0
 463 00000368' E248                    +		lsr.w	#1,d0
 464 0000036A' 48C0                    +		ext.l	d0
 465 0000036C' D480                    +		add.l	d0,d2
 466 0000036E' 7000                    +		moveq	#0,d0
 467 00000370' 4441                    +		neg.w	d1
 468 00000372' D27C 000F               +		add.w	#15,d1
 469 00000376' 03C0                    +		bset	d1,d0
 476 00000378' 8176 2802               +		or.w	d0,2(a6,d2.l)
 478 0000037C' 8176 2806               +		or.w	d0,6(a6,d2.l)
 538 00000380' 4A43                     		tst.w	d3		;e
 539 00000382' 6F08                     		ble	cont_dl5	;e<=0
 540 00000384' 5248                     		addq.w	#1,a0		;x+=1
 541 00000386' D646                     		add.w	d6,d3		;e=e+(2*deltax-2*deltay)
 542 00000388' 9647                     		sub.w	d7,d3
 543 0000038A' 6002                     		bra	cont_dl6
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  11
Source File: C:\WORK\C\DSP\SCOPE.S

 544 0000038C'                          cont_dl5:				;e<=0
 545 0000038C' D646                     		add.w	d6,d3		;e=e+2*deltax
 546 0000038E'                          cont_dl6:
 547 0000038E' 5349                     		subq.w	#1,a1		;y-=1
 548  
 549 00000390' 51CC FFBE                		dbra	d4,loop_dl1
 550  
 551 00000394' 4E75                     		rts
 552  
 553  
 554 00000396'                          cont_dl3:				;deltay<=deltax
 555  
 556 00000396' 3040                     		move.w	d0,a0		;x1
 557 00000398' 3241                     		move.w	d1,a1		;y1
 558 0000039A' 3607                     		move.w	d7,d3		;e=deltay
 559 0000039C' D643                     		add.w	d3,d3		;*2
 560 0000039E' 9646                     		sub.w	d6,d3		;-deltax
 561 000003A0' 3806                     		move.w	d6,d4		;deltax
 562  
 563 000003A2' DC46                     		add.w	d6,d6		;2*deltax
 564 000003A4' DE47                     		add.w	d7,d7		;2*deltay
 565 000003A6'                          loop_dl2:
 566 000003A6' 3008                     		move.w	a0,d0		;x
 567 000003A8' 3209                     		move.w	a1,d1		;y
 568                                    		draw_point
 455 000003AA' 48C1                    +		ext.l	d1
 456 000003AC' ED89                    +		lsl.l	#6,d1			;
 457 000003AE' 2401                    +		move.l	d1,d2			;* b_line
 458 000003B0' E589                    +		lsl.l	#2,d1			;
 459 000003B2' D481                    +		add.l	d1,d2			;
 460 000003B4' 3200                    +		move.w	d0,d1
 461 000003B6' C27C 000F               +		and.w	#$f,d1
 462 000003BA' C03C 00F0               +		and.b	#$f0,d0
 463 000003BE' E248                    +		lsr.w	#1,d0
 464 000003C0' 48C0                    +		ext.l	d0
 465 000003C2' D480                    +		add.l	d0,d2
 466 000003C4' 7000                    +		moveq	#0,d0
 467 000003C6' 4441                    +		neg.w	d1
 468 000003C8' D27C 000F               +		add.w	#15,d1
 469 000003CC' 03C0                    +		bset	d1,d0
 476 000003CE' 8176 2802               +		or.w	d0,2(a6,d2.l)
 478 000003D2' 8176 2806               +		or.w	d0,6(a6,d2.l)
 569 000003D6' 4A43                     		tst.w	d3		;e
 570 000003D8' 6F08                     		ble	cont_dl7	;e<=0
 571 000003DA' 5349                     		subq.w	#1,a1		;y-=1
 572 000003DC' D647                     		add.w	d7,d3		;e=e+(2*deltay-2*deltax)
 573 000003DE' 9646                     		sub.w	d6,d3
 574 000003E0' 6002                     		bra	cont_dl8
 575 000003E2'                          cont_dl7:				;e<=0
 576 000003E2' D647                     		add.w	d7,d3		;e=e+2*deltay
 577 000003E4'                          cont_dl8:
 578 000003E4' 5248                     		addq.w	#1,a0		;x+=1
 579  
 580 000003E6' 51CC FFBE                		dbra	d4,loop_dl2
 581  
 582 000003EA' 4E75                     		rts
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  12
Source File: C:\WORK\C\DSP\SCOPE.S

 583 000003EC'                          cont_dl2:				;y2>=y1
 584 000003EC' BC47                     		cmp.w	d7,d6		;deltay,deltax
 585 000003EE' 6C56                     		bge	cont_dl4	;deltay<=deltax
 586  
 587  
 588 000003F0' 3040                     		move.w	d0,a0		;x1
 589 000003F2' 3241                     		move.w	d1,a1		;y1
 590 000003F4' 3606                     		move.w	d6,d3		;e=deltax
 591 000003F6' D643                     		add.w	d3,d3		;*2
 592 000003F8' 9647                     		sub.w	d7,d3		;-deltay
 593 000003FA' 3807                     		move.w	d7,d4		;deltay
 594  
 595 000003FC' DC46                     		add.w	d6,d6		;2*deltax
 596 000003FE' DE47                     		add.w	d7,d7		;2*deltay
 597 00000400'                          loop_dl3:
 598 00000400' 3008                     		move.w	a0,d0		;x
 599 00000402' 3209                     		move.w	a1,d1		;y
 600                                    		draw_point
 455 00000404' 48C1                    +		ext.l	d1
 456 00000406' ED89                    +		lsl.l	#6,d1			;
 457 00000408' 2401                    +		move.l	d1,d2			;* b_line
 458 0000040A' E589                    +		lsl.l	#2,d1			;
 459 0000040C' D481                    +		add.l	d1,d2			;
 460 0000040E' 3200                    +		move.w	d0,d1
 461 00000410' C27C 000F               +		and.w	#$f,d1
 462 00000414' C03C 00F0               +		and.b	#$f0,d0
 463 00000418' E248                    +		lsr.w	#1,d0
 464 0000041A' 48C0                    +		ext.l	d0
 465 0000041C' D480                    +		add.l	d0,d2
 466 0000041E' 7000                    +		moveq	#0,d0
 467 00000420' 4441                    +		neg.w	d1
 468 00000422' D27C 000F               +		add.w	#15,d1
 469 00000426' 03C0                    +		bset	d1,d0
 476 00000428' 8176 2802               +		or.w	d0,2(a6,d2.l)
 478 0000042C' 8176 2806               +		or.w	d0,6(a6,d2.l)
 601 00000430' 4A43                     		tst.w	d3		;e
 602 00000432' 6F08                     		ble	cont_dl9	;e<=0
 603 00000434' 5248                     		addq.w	#1,a0		;x+=1
 604 00000436' D646                     		add.w	d6,d3		;e=e+(2*deltax-2*deltay)
 605 00000438' 9647                     		sub.w	d7,d3
 606 0000043A' 6002                     		bra	cont_dl10
 607 0000043C'                          cont_dl9:				;e<=0
 608 0000043C' D646                     		add.w	d6,d3		;e=e+2*deltax
 609 0000043E'                          cont_dl10:
 610 0000043E' 5249                     		addq.w	#1,a1		;y+=1
 611  
 612 00000440' 51CC FFBE                		dbra	d4,loop_dl3
 613  
 614 00000444' 4E75                     		rts
 615 00000446'                          cont_dl4:				;deltay<=deltax
 616  
 617 00000446' 3040                     		move.w	d0,a0		;x1
 618 00000448' 3241                     		move.w	d1,a1		;y1
 619 0000044A' 3607                     		move.w	d7,d3		;e=deltay
 620 0000044C' D643                     		add.w	d3,d3		;*2
 621 0000044E' 9646                     		sub.w	d6,d3		;-deltax
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  13
Source File: C:\WORK\C\DSP\SCOPE.S

 622 00000450' 3806                     		move.w	d6,d4		;deltax
 623  
 624 00000452' DC46                     		add.w	d6,d6		;2*deltax
 625 00000454' DE47                     		add.w	d7,d7		;2*deltay
 626 00000456'                          loop_dl4:
 627 00000456' 3008                     		move.w	a0,d0		;x
 628 00000458' 3209                     		move.w	a1,d1		;y
 629                                    		draw_point
 455 0000045A' 48C1                    +		ext.l	d1
 456 0000045C' ED89                    +		lsl.l	#6,d1			;
 457 0000045E' 2401                    +		move.l	d1,d2			;* b_line
 458 00000460' E589                    +		lsl.l	#2,d1			;
 459 00000462' D481                    +		add.l	d1,d2			;
 460 00000464' 3200                    +		move.w	d0,d1
 461 00000466' C27C 000F               +		and.w	#$f,d1
 462 0000046A' C03C 00F0               +		and.b	#$f0,d0
 463 0000046E' E248                    +		lsr.w	#1,d0
 464 00000470' 48C0                    +		ext.l	d0
 465 00000472' D480                    +		add.l	d0,d2
 466 00000474' 7000                    +		moveq	#0,d0
 467 00000476' 4441                    +		neg.w	d1
 468 00000478' D27C 000F               +		add.w	#15,d1
 469 0000047C' 03C0                    +		bset	d1,d0
 476 0000047E' 8176 2802               +		or.w	d0,2(a6,d2.l)
 478 00000482' 8176 2806               +		or.w	d0,6(a6,d2.l)
 630 00000486' 4A43                     		tst.w	d3		;e
 631 00000488' 6F08                     		ble	cont_dl11	;e<=0
 632 0000048A' 5249                     		addq.w	#1,a1		;y+=1
 633 0000048C' D647                     		add.w	d7,d3		;e=e+(2*deltay-2*deltax)
 634 0000048E' 9646                     		sub.w	d6,d3
 635 00000490' 6002                     		bra	cont_dl12
 636 00000492'                          cont_dl11:				;e<=0
 637 00000492' D647                     		add.w	d7,d3		;e=e+2*deltay
 638 00000494'                          cont_dl12:
 639 00000494' 5248                     		addq.w	#1,a0		;x+=1
 640  
 641 00000496' 51CC FFBE                		dbra	d4,loop_dl4
 642  
 643 0000049A' 4E75                     		rts
 644 0000049C'  
 645  
 646  
 647                                    ;*********************************************************
 648                                    ;*********************************************************
 649                                    ;*********************************************************
 650  
 651                                    		DATA
 652  
 653                                    ; ------------ 'log_spec.s' ---------------
 654  
 655 00000000`                          		EVEN
 656  
 657 00000000`                          log2:	;33 dB, with cutoff. for spectrum analyzer
 658 00000000` 0000 0000 0000 0000 
     00000008` 0000 0000 0000 0000      		dc.b	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 659 00000010` 0000 0000 0000 0001 
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  14
Source File: C:\WORK\C\DSP\SCOPE.S

     00000018` 0203 0304 0506 0607      		dc.b	0,0,0,0,0,0,0,1,2,3,3,4,5,6,6,7
 660 00000020` 0708 0909 0A0A 0B0B 
     00000028` 0C0C 0D0D 0E0E 0F0F      		dc.b	7,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15
 661 00000030` 1010 1011 1112 1212 
     00000038` 1313 1314 1414 1515      		dc.b	16,16,16,17,17,18,18,18,19,19,19,20,20,20,21,21
 662 00000040` 1516 1616 1717 1717 
     00000048` 1818 1819 1919 191A      		dc.b	21,22,22,22,23,23,23,23,24,24,24,25,25,25,25,26
 663 00000050` 1A1A 1A1B 1B1B 1B1C 
     00000058` 1C1C 1C1D 1D1D 1D1D      		dc.b	26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,29
 664 00000060` 1E1E 1E1E 1E1F 1F1F 
     00000068` 1F1F 2020 2020 2021      		dc.b	30,30,30,30,30,31,31,31,31,31,32,32,32,32,32,33
 665 00000070` 2121 2121 2122 2222 
     00000078` 2222 2223 2323 2323      		dc.b	33,33,33,33,33,34,34,34,34,34,34,35,35,35,35,35
 666 00000080` 2324 2424 2424 2425 
     00000088` 2525 2525 2525 2626      		dc.b	35,36,36,36,36,36,36,37,37,37,37,37,37,37,38,38
 667 00000090` 2626 2626 2627 2727 
     00000098` 2727 2727 2828 2828      		dc.b	38,38,38,38,38,39,39,39,39,39,39,39,40,40,40,40
 668 000000A0` 2828 2828 2929 2929 
     000000A8` 2929 2929 292A 2A2A      		dc.b	40,40,40,40,41,41,41,41,41,41,41,41,41,42,42,42
 669 000000B0` 2A2A 2A2A 2A2B 2B2B 
     000000B8` 2B2B 2B2B 2B2B 2C2C      		dc.b	42,42,42,42,42,43,43,43,43,43,43,43,43,43,44,44
 670 000000C0` 2C2C 2C2C 2C2C 2C2C 
     000000C8` 2D2D 2D2D 2D2D 2D2D      		dc.b	44,44,44,44,44,44,44,44,45,45,45,45,45,45,45,45
 671 000000D0` 2D2D 2E2E 2E2E 2E2E 
     000000D8` 2E2E 2E2E 2F2F 2F2F      		dc.b	45,45,46,46,46,46,46,46,46,46,46,46,47,47,47,47
 672 000000E0` 2F2F 2F2F 2F2F 2F30 
     000000E8` 3030 3030 3030 3030      		dc.b	47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48
 673 000000F0` 3030 3031 3131 3131 
     000000F8` 3131 3131 3131 3132      		dc.b	48,48,48,49,49,49,49,49,49,49,49,49,49,49,49,50
 674 00000100` 3232 3232 3232 3232 
     00000108` 3232 3232 3333 3333      		dc.b	50,50,50,50,50,50,50,50,50,50,50,50,51,51,51,51
 675 00000110` 3333 3333 3333 3333 
     00000118` 3334 3434 3434 3434      		dc.b	51,51,51,51,51,51,51,51,51,52,52,52,52,52,52,52
 676 00000120` 3434 3434 3434 3435 
     00000128` 3535 3535 3535 3535      		dc.b	52,52,52,52,52,52,52,53,53,53,53,53,53,53,53,53
 677 00000130` 3535 3535 3535 3636 
     00000138` 3636 3636 3636 3636      		dc.b	53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,54
 678 00000140` 3636 3636 3637 3737 
     00000148` 3737 3737 3737 3737      		dc.b	54,54,54,54,54,55,55,55,55,55,55,55,55,55,55,55
 679 00000150` 3737 3737 3737 3737 
     00000158` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 680 00000160` 3737 3737 3737 3737 
     00000168` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 681 00000170` 3737 3737 3737 3737 
     00000178` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 682 00000180` 3737 3737 3737 3737 
     00000188` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 683 00000190` 3737 3737 3737 3737 
     00000198` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 684 000001A0` 3737 3737 3737 3737 
     000001A8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 685 000001B0` 3737 3737 3737 3737 
     000001B8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 686 000001C0` 3737 3737 3737 3737 
     000001C8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 687 000001D0` 3737 3737 3737 3737 
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  15
Source File: C:\WORK\C\DSP\SCOPE.S

     000001D8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 688 000001E0` 3737 3737 3737 3737 
     000001E8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 689 000001F0` 3737 3737 3737 3737 
     000001F8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 690 00000200` 3737 3737 3737 3737 
     00000208` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 691 00000210` 3737 3737 3737 3737 
     00000218` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 692 00000220` 3737 3737 3737 3737 
     00000228` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 693 00000230` 3737 3737 3737 3737 
     00000238` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 694 00000240` 3737 3737 3737 3737 
     00000248` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 695 00000250` 3737 3737 3737 3737 
     00000258` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 696 00000260` 3737 3737 3737 3737 
     00000268` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 697 00000270` 3737 3737 3737 3737 
     00000278` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 698 00000280` 3737 3737 3737 3737 
     00000288` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 699 00000290` 3737 3737 3737 3737 
     00000298` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 700 000002A0` 3737 3737 3737 3737 
     000002A8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 701 000002B0` 3737 3737 3737 3737 
     000002B8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 702 000002C0` 3737 3737 3737 3737 
     000002C8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 703 000002D0` 3737 3737 3737 3737 
     000002D8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 704 000002E0` 3737 3737 3737 3737 
     000002E8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 705 000002F0` 3737 3737 3737 3737 
     000002F8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 706 00000300` 3737 3737 3737 3737 
     00000308` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 707 00000310` 3737 3737 3737 3737 
     00000318` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 708 00000320` 3737 3737 3737 3737 
     00000328` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 709 00000330` 3737 3737 3737 3737 
     00000338` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 710 00000340` 3737 3737 3737 3737 
     00000348` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 711 00000350` 3737 3737 3737 3737 
     00000358` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 712 00000360` 3737 3737 3737 3737 
     00000368` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 713 00000370` 3737 3737 3737 3737 
     00000378` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 714 00000380` 3737 3737 3737 3737 
     00000388` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 715 00000390` 3737 3737 3737 3737 
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  16
Source File: C:\WORK\C\DSP\SCOPE.S

     00000398` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 716 000003A0` 3737 3737 3737 3737 
     000003A8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 717 000003B0` 3737 3737 3737 3737 
     000003B8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 718 000003C0` 3737 3737 3737 3737 
     000003C8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 719 000003D0` 3737 3737 3737 3737 
     000003D8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 720 000003E0` 3737 3737 3737 3737 
     000003E8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55
 721 000003F0` 3737 3737 3737 3737 
     000003F8` 3737 3737 3737 3737      		dc.b	55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55;		even
 722  
 723                                    ;mainscrdat:	incbin	'mainscr.img'
 724  
 725  
 726                                    ; ------------ 'log_vu.s' ---------------
 727  
 728 00000400`                          		EVEN
 729  
 730 00000400`                          log:		;20 dB, for vu
 731 00000400` 0000 0000 0000 0000 
     00000408` 0000 0000 0000 0000      		dc.b	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 732 00000410` 0000 0000 0000 0000 
     00000418` 0000 0000 0000 0000      		dc.b	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 733 00000420` 0000 0000 0000 0000 
     00000428` 0000 0000 0000 0000      		dc.b	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 734 00000430` 0000 0000 0000 0000 
     00000438` 0000 0000 0000 0000      		dc.b	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 735 00000440` 0000 0000 0000 0000 
     00000448` 0000 0000 0000 0000      		dc.b	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 736 00000450` 0000 0000 0000 0000 
     00000458` 0000 0000 0000 0000      		dc.b	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 737 00000460` 0000 0000 0000 0001 
     00000468` 0101 0202 0203 0304      		dc.b	0,0,0,0,0,0,0,1,1,1,2,2,2,3,3,4
 738 00000470` 0404 0505 0506 0606 
     00000478` 0707 0707 0808 0809      		dc.b	4,4,5,5,5,6,6,6,7,7,7,7,8,8,8,9
 739 00000480` 0909 0A0A 0A0B 0B0B 
     00000488` 0B0C 0C0C 0D0D 0D0D      		dc.b	9,9,10,10,10,11,11,11,11,12,12,12,13,13,13,13
 740 00000490` 0E0E 0E0E 0F0F 0F0F 
     00000498` 1010 1010 1111 1111      		dc.b	14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17
 741 000004A0` 1212 1212 1313 1313 
     000004A8` 1414 1414 1415 1515      		dc.b	18,18,18,18,19,19,19,19,20,20,20,20,20,21,21,21
 742 000004B0` 1516 1616 1616 1717 
     000004B8` 1717 1818 1818 1819      		dc.b	21,22,22,22,22,22,23,23,23,23,24,24,24,24,24,25
 743 000004C0` 1919 1919 1A1A 1A1A 
     000004C8` 1A1B 1B1B 1B1B 1C1C      		dc.b	25,25,25,25,26,26,26,26,26,27,27,27,27,27,28,28
 744 000004D0` 1C1C 1C1C 1D1D 1D1D 
     000004D8` 1D1E 1E1E 1E1E 1E1F      		dc.b	28,28,28,28,29,29,29,29,29,30,30,30,30,30,30,31
 745 000004E0` 1F1F 1F1F 1F20 2020 
     000004E8` 2020 2021 2121 2121      		dc.b	31,31,31,31,31,32,32,32,32,32,32,33,33,33,33,33
 746 000004F0` 2122 2222 2222 2223 
     000004F8` 2323 2323 2324 2424      		dc.b	33,34,34,34,34,34,34,35,35,35,35,35,35,36,36,36
 747 00000500` 2424 2424 2525 2525 
     00000508` 2525 2526 2626 2626      		dc.b	36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  17
Source File: C:\WORK\C\DSP\SCOPE.S

 748 00000510` 2626 2727 2727 2727 
     00000518` 2728 2828 2828 2828      		dc.b	38,38,39,39,39,39,39,39,39,40,40,40,40,40,40,40
 749 00000520` 2929 2929 2929 2929 
     00000528` 2A2A 2A2A 2A2A 2A2B      		dc.b	41,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43
 750 00000530` 2B2B 2B2B 2B2B 2B2C 
     00000538` 2C2C 2C2C 2C2C 2C2D      		dc.b	43,43,43,43,43,43,43,44,44,44,44,44,44,44,44,45
 751 00000540` 2D2D 2D2D 2D2D 2D2E 
     00000548` 2E2E 2E2E 2E2E 2E2E      		dc.b	45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46
 752 00000550` 2F2F 2F2F 2F2F 2F2F 
     00000558` 2F30 3030 3030 3030      		dc.b	47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48
 753 00000560` 3030 3131 3131 3131 
     00000568` 3131 3132 3232 3232      		dc.b	48,48,49,49,49,49,49,49,49,49,49,50,50,50,50,50
 754 00000570` 3232 3232 3333 3333 
     00000578` 3333 3333 3333 3434      		dc.b	50,50,50,50,51,51,51,51,51,51,51,51,51,51,52,52
 755 00000580` 3434 3434 3434 3434 
     00000588` 3535 3535 3535 3535      		dc.b	52,52,52,52,52,52,52,52,53,53,53,53,53,53,53,53
 756 00000590` 3535 3636 3636 3636 
     00000598` 3636 3636 3737 3737      		dc.b	53,53,54,54,54,54,54,54,54,54,54,54,55,55,55,55
 757 000005A0` 3737 3737 3737 3738 
     000005A8` 3838 3838 3838 3838      		dc.b	55,55,55,55,55,55,55,56,56,56,56,56,56,56,56,56
 758 000005B0` 3838 3939 3939 3939 
     000005B8` 3939 3939 393A 3A3A      		dc.b	56,56,57,57,57,57,57,57,57,57,57,57,57,58,58,58
 759 000005C0` 3A3A 3A3A 3A3A 3A3A 
     000005C8` 3A3B 3B3B 3B3B 3B3B      		dc.b	58,58,58,58,58,58,58,58,58,59,59,59,59,59,59,59
 760 000005D0` 3B3B 3B3B 3B3C 3C3C 
     000005D8` 3C3C 3C3C 3C3C 3C3C      		dc.b	59,59,59,59,59,60,60,60,60,60,60,60,60,60,60,60
 761 000005E0` 3C3D 3D3D 3D3D 3D3D 
     000005E8` 3D3D 3D3D 3D3E 3E3E      		dc.b	60,61,61,61,61,61,61,61,61,61,61,61,61,62,62,62
 762 000005F0` 3E3E 3E3E 3E3E 3E3E 
     000005F8` 3E3E 3F3F 3F3F 3F3F      		dc.b	62,62,62,62,62,62,62,62,62,62,63,63,63,63,63,63
 763 00000600` 3F3F 3F3F 3F3F 3F40 
     00000608` 4040 4040 4040 4040      		dc.b	63,63,63,63,63,63,63,64,64,64,64,64,64,64,64,64
 764 00000610` 4040 4040 4041 4141 
     00000618` 4141 4141 4141 4141      		dc.b	64,64,64,64,64,65,65,65,65,65,65,65,65,65,65,65
 765 00000620` 4141 4142 4242 4242 
     00000628` 4242 4242 4242 4242      		dc.b	65,65,65,66,66,66,66,66,66,66,66,66,66,66,66,66
 766 00000630` 4243 4343 4343 4343 
     00000638` 4343 4343 4343 4344      		dc.b	66,67,67,67,67,67,67,67,67,67,67,67,67,67,67,68
 767 00000640` 4444 4444 4444 4444 
     00000648` 4444 4444 4444 4545      		dc.b	68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,69
 768 00000650` 4545 4545 4545 4545 
     00000658` 4545 4545 4545 4646      		dc.b	69,69,69,69,69,69,69,69,69,69,69,69,69,69,70,70
 769 00000660` 4646 4646 4646 4646 
     00000668` 4646 4646 4647 4747      		dc.b	70,70,70,70,70,70,70,70,70,70,70,70,70,71,71,71
 770 00000670` 4747 4747 4747 4747 
     00000678` 4747 4747 4748 4848      		dc.b	71,71,71,71,71,71,71,71,71,71,71,71,71,72,72,72
 771 00000680` 4848 4848 4848 4848 
     00000688` 4848 4848 4848 4949      		dc.b	72,72,72,72,72,72,72,72,72,72,72,72,72,72,73,73
 772 00000690` 4949 4949 4949 4949 
     00000698` 4949 4949 4949 494A      		dc.b	73,73,73,73,73,73,73,73,73,73,73,73,73,73,73,74
 773 000006A0` 4A4A 4A4A 4A4A 4A4A 
     000006A8` 4A4A 4A4A 4A4A 4A4A      		dc.b	74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74
 774 000006B0` 4B4B 4B4B 4B4B 4B4B 
     000006B8` 4B4B 4B4B 4B4B 4B4B      		dc.b	75,75,75,75,75,75,75,75,75,75,75,75,75,75,75,75
 775 000006C0` 4B4B 4C4C 4C4C 4C4C 
     000006C8` 4C4C 4C4C 4C4C 4C4C      		dc.b	75,75,76,76,76,76,76,76,76,76,76,76,76,76,76,76
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  18
Source File: C:\WORK\C\DSP\SCOPE.S

 776 000006D0` 4C4C 4C4C 4D4D 4D4D 
     000006D8` 4D4D 4D4D 4D4D 4D4D      		dc.b	76,76,76,76,77,77,77,77,77,77,77,77,77,77,77,77
 777 000006E0` 4D4D 4D4D 4D4D 4D4E 
     000006E8` 4E4E 4E4E 4E4E 4E4E      		dc.b	77,77,77,77,77,77,77,78,78,78,78,78,78,78,78,78
 778 000006F0` 4E4E 4E4E 4E4E 4E4E 
     000006F8` 4E4E 4F4F 4F4F 4F4F      		dc.b	78,78,78,78,78,78,78,78,78,78,79,79,79,79,79,79
 779 00000700` 4F4F 4F4F 4F4F 4F4F 
     00000708` 4F4F 4F4F 4F4F 5050      		dc.b	79,79,79,79,79,79,79,79,79,79,79,79,79,79,80,80
 780 00000710` 5050 5050 5050 5050 
     00000718` 5050 5050 5050 5050      		dc.b	80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80
 781 00000720` 5050 5051 5151 5151 
     00000728` 5151 5151 5151 5151      		dc.b	80,80,80,81,81,81,81,81,81,81,81,81,81,81,81,81
 782 00000730` 5151 5151 5151 5152 
     00000738` 5252 5252 5252 5252      		dc.b	81,81,81,81,81,81,81,82,82,82,82,82,82,82,82,82
 783 00000740` 5252 5252 5252 5252 
     00000748` 5252 5252 5253 5353      		dc.b	82,82,82,82,82,82,82,82,82,82,82,82,82,83,83,83
 784 00000750` 5353 5353 5353 5353 
     00000758` 5353 5353 5353 5353      		dc.b	83,83,83,83,83,83,83,83,83,83,83,83,83,83,83,83
 785 00000760` 5353 5354 5454 5454 
     00000768` 5454 5454 5454 5454      		dc.b	83,83,83,84,84,84,84,84,84,84,84,84,84,84,84,84
 786 00000770` 5454 5454 5454 5454 
     00000778` 5455 5555 5555 5555      		dc.b	84,84,84,84,84,84,84,84,84,85,85,85,85,85,85,85
 787 00000780` 5555 5555 5555 5555 
     00000788` 5555 5555 5555 5555      		dc.b	85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85
 788 00000790` 5656 5656 5656 5656 
     00000798` 5656 5656 5656 5656      		dc.b	86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86
 789 000007A0` 5656 5656 5656 5656 
     000007A8` 5757 5757 5757 5757      		dc.b	86,86,86,86,86,86,86,86,87,87,87,87,87,87,87,87
 790 000007B0` 5757 5757 5757 5757 
     000007B8` 5757 5757 5757 5757      		dc.b	87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87
 791 000007C0` 5858 5858 5858 5858 
     000007C8` 5858 5858 5858 5858      		dc.b	88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88
 792 000007D0` 5858 5858 5858 5858 
     000007D8` 5859 5959 5959 5959      		dc.b	88,88,88,88,88,88,88,88,88,89,89,89,89,89,89,89
 793 000007E0` 5959 5959 5959 5959 
     000007E8` 5959 5959 5959 5959      		dc.b	89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89
 794 000007F0` 5959 5A5A 5A5A 5A5A 
     000007F8` 5A5A 5A5A 5A5A 5A5A      		dc.b	89,89,90,90,90,90,90,90,90,90,90,90,90,90,90,90
 795  
 796  
 797  
 798                                    ; ------------ relative coordinates for vu ------------
 799                                    ;0 to 90 degrees
 800  
 801 00000800`                          		EVEN
 802  
 803 00000800` FFE1 FFE1 FFE2 FFE3 
     00000808` FFE3 FFE4 FFE4 FFE5      vu_x:	DC.W	-31,-31,-30,-29,-29,-28,-28,-27
 804 00000810` FFE6 FFE6 FFE7 FFE7 
     00000818` FFE8 FFE9 FFE9 FFEA      		DC.W	-26,-26,-25,-25,-24,-23,-23,-22
 805 00000820` FFEB FFEB FFEC FFED 
     00000828` FFED FFEE FFEF FFF0      		DC.W	-21,-21,-20,-19,-19,-18,-17,-16
 806 00000830` FFF0 FFF1 FFF2 FFF2 
     00000838` FFF3 FFF4 FFF5 FFF5      		DC.W	-16,-15,-14,-14,-13,-12,-11,-11
 807 00000840` FFF6 FFF7 FFF8 FFF8 
     00000848` FFF9 FFFA FFFB FFFB      		DC.W	-10,-9,-8,-8,-7,-6,-5,-5
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  19
Source File: C:\WORK\C\DSP\SCOPE.S

 808 00000850` FFFC FFFD FFFE FFFE 
     00000858` FFFF 0000 0001 0002      		DC.W	-4,-3,-2,-2,-1, 0, 1, 2
 809 00000860` 0002 0003 0004 0005 
     00000868` 0005 0006 0007 0008      		DC.W	 2, 3, 4, 5, 5, 6, 7, 8
 810 00000870` 0008 0009 000A 000B 
     00000878` 000B 000C 000D 000E      		DC.W	 8, 9, 10, 11, 11, 12, 13, 14
 811 00000880` 000E 000F 0010 0010 
     00000888` 0011 0012 0013 0013      		DC.W	 14, 15, 16, 16, 17, 18, 19, 19
 812 00000890` 0014 0015 0015 0016 
     00000898` 0017 0017 0018 0019      		DC.W	 20, 21, 21, 22, 23, 23, 24, 25
 813 000008A0` 0019 001A 001A 001B 
     000008A8` 001C 001C 001D 001D      		DC.W	 25, 26, 26, 27, 28, 28, 29, 29
 814 000008B0` 001E 001F 001F           		DC.W	 30, 31, 31
 815 000008B6` FFE1 FFE0 FFE0 FFDF 
     000008BE` FFDF FFDE FFDE FFDD      vu_y:	DC.W	-31,-32,-32,-33,-33,-34,-34,-35
 816 000008C6` FFDD FFDC FFDC FFDC 
     000008CE` FFDB FFDB FFDA FFDA      		DC.W	-35,-36,-36,-36,-37,-37,-38,-38
 817 000008D6` FFDA FFD9 FFD9 FFD8 
     000008DE` FFD8 FFD8 FFD7 FFD7      		DC.W	-38,-39,-39,-40,-40,-40,-41,-41
 818 000008E6` FFD7 FFD7 FFD6 FFD6 
     000008EE` FFD6 FFD6 FFD5 FFD5      		DC.W	-41,-41,-42,-42,-42,-42,-43,-43
 819 000008F6` FFD5 FFD5 FFD5 FFD5 
     000008FE` FFD5 FFD4 FFD4 FFD4      		DC.W	-43,-43,-43,-43,-43,-44,-44,-44
 820 00000906` FFD4 FFD4 FFD4 FFD4 
     0000090E` FFD4 FFD4 FFD4 FFD4      		DC.W	-44,-44,-44,-44,-44,-44,-44,-44
 821 00000916` FFD4 FFD4 FFD4 FFD4 
     0000091E` FFD4 FFD4 FFD5 FFD5      		DC.W	-44,-44,-44,-44,-44,-44,-43,-43
 822 00000926` FFD5 FFD5 FFD5 FFD5 
     0000092E` FFD5 FFD6 FFD6 FFD6      		DC.W	-43,-43,-43,-43,-43,-42,-42,-42
 823 00000936` FFD6 FFD7 FFD7 FFD7 
     0000093E` FFD7 FFD8 FFD8 FFD8      		DC.W	-42,-41,-41,-41,-41,-40,-40,-40
 824 00000946` FFD9 FFD9 FFDA FFDA 
     0000094E` FFDA FFDB FFDB FFDC      		DC.W	-39,-39,-38,-38,-38,-37,-37,-36
 825 00000956` FFDC FFDC FFDD FFDD 
     0000095E` FFDE FFDE FFDF FFDF      		DC.W	-36,-36,-35,-35,-34,-34,-33,-33
 826 00000966` FFE0 FFE0 FFE1           		DC.W	-32,-32,-31
 827 0000096C`  
 828  
 829  
 830                                    ;*********************************************************
 831  
 832                                    		BSS
 833  
 834 00000000"                          		EVEN
 835  
 836                                    ;scr1:		ds.l	1
 837                                    ;scr2:		ds.l	1
 838  
 839 00000000"                          scr:			ds.l	1	;pointer to video memory
 840 00000004"                          b_line:		ds.l	1	;size of screen line in bytes
 841  
 842 00000008"                          scopebuf:		ds.l	1
 843 0000000C"                          vubuf:		ds.l	1
 844 00000010"                          lrbuf:		ds.l	1
 845 00000014"                          lr_filter:	ds.w	2
 846 00000018"                          lr_coor:	ds.w	258*2
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  20
Source File: C:\WORK\C\DSP\SCOPE.S

 847  
 848  
 849 00000420"                          dataptr:	ds.l	1
 850 00000424"                          buf:		ds.b	6
 851 0000042A"                          buf2:		ds.b	14*3*2
 852  
 853  
 854 0000047E"                          left_bars:	ds.w	14
 855 0000049A"                          right_bars:	ds.w	14
 856 000004B6"                          leftvu: 	ds.w	1
 857 000004B8"                          rightvu:	ds.w	1
 858 000004BA"  
 859  
 860                                    		END
PASM 68040 Macro Assembler  Version Sep 20 1991  (C) 91 Pure Software  Page  21
Source File: C:\WORK\C\DSP\SCOPE.S



Symbols:
========

Name                  Value      Scope      Relocation base

b_line                00000004   File       BSS
bitplanes             ********   External   
buf                   00000424   File       BSS
buf2                  0000042A   File       BSS
cont_db               00000212   File       TEXT
cont_dl1              0000032C   File       TEXT
cont_dl10             0000043E   File       TEXT
cont_dl11             00000492   File       TEXT
cont_dl12             00000494   File       TEXT
cont_dl2              000003EC   File       TEXT
cont_dl3              00000396   File       TEXT
cont_dl4              00000446   File       TEXT
cont_dl5              0000038C   File       TEXT
cont_dl6              0000038E   File       TEXT
cont_dl7              000003E2   File       TEXT
cont_dl8              000003E4   File       TEXT
cont_dl9              0000043C   File       TEXT
cont_ps               000002EA   File       TEXT
cont_ps2              00000306   File       TEXT
cont_ps3              00000314   File       TEXT
cont_ps4              000002F0   File       TEXT
cont_pvu              000000B6   File       TEXT
dataptr               00000420   File       BSS
draw_bar              000001E8   File       TEXT
draw_line             0000031C   File       TEXT
draw_scope            0000021E   Global     TEXT
draw_spectrum         000000F0   Global     TEXT
draw_vu               00000000   Global     TEXT
freeze2               000001AE   File       TEXT
left_bars             0000047E   File       BSS
leftvu                000004B6   File       BSS
len_iconsbuf          00002C00   File       EQUATE
len_lrbuf             00000F00   File       EQUATE
len_mstxtbuf          00000180   File       EQUATE
len_scopebuf          00004000   File       EQUATE
len_vubuf             000006E0   File       EQUATE
log                   00000400   File       DATA
log2                  00000000   File       DATA
loop_clrsc            00000254   File       TEXT
loop_clrsp            00000118   File       TEXT
loop_clrvu            00000014   File       TEXT
loop_clrx             0000025C   File       TEXT
loop_db               00000212   File       TEXT
loop_dl1              00000350   File       TEXT
loop_dl2              000003A6   File       TEXT
loop_dl3              00000400   File       TEXT
loop_dl4              00000456   File       TEXT
loop_ps               000002CA   File       TEXT
loop_ps2              000002F4   File       TEXT
loop_ps3              0000030A   File       TEXT
loop_putlbars         00000156   File       TEXT
loop_putlbars2        000001BC   File       TEXT
loop_putrbars         00000188   File       TEXT
loop_putrbars2        000001D6   File       TEXT
loop_pvu              00000088   File       TEXT
lr_coor               00000018   File       BSS
lr_filter             00000014   File       BSS
lrbuf                 00000010   File       BSS
no_freeze             000001E2   File       TEXT
points                00000100   File       EQUATE
put_scope             00000280   File       TEXT
put_vu                0000004E   File       TEXT
right_bars            0000049A   File       BSS
rightvu               000004B8   File       BSS
scopebuf              00000008   File       BSS
scr                   00000000   File       BSS
vu_x                  00000800   File       DATA
vu_y                  000008B6   File       DATA
vubuf                 0000000C   File       BSS
xm                    ********   External   
ym                    ********   External   
