<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>Documentation VISION (VAPI) : Présentation</title></head>

<body background="../images/conc2.gif" bgcolor="#ffffff">
<div align="center"><center>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tbody><tr>
        <td align="center" width="17%"><a href="index.htm"><img src="../images/csom.jpg" alt="Retour au sommaire" border="0" height="26" hspace="2" width="26"></a><a href="pr.htm"><img src="../images/csuiv.jpg" alt="Chapitre suivant" border="0" height="26" hspace="2" width="43"></a></td>
        <td rowspan="2" align="center" valign="top" width="8%"><p align="center"><img src="../images/icoprinc.gif" height="71" width="59"></p>
        </td>
        <td width="33%"><p align="center"><font color="#0000ff" size="5"><strong>Documentation </strong><em><strong>VISION
        (VAPI)</strong></em></font></p>
        </td>
        <td rowspan="2" align="center" valign="top" width="8%"><p align="center"><img src="../images/icointro.gif" height="71" width="59"></p>
        </td>
        <td valign="top" width="17%"><p align="left">Dernière
        mise à jour : <!--webbot bot="Timestamp" startspan
        s-type="EDITED" s-format="%d/%m/%y" -->18/03/18<!--webbot
        bot="Timestamp" i-checksum="12442" endspan --></p>
        </td>
    </tr>
    <tr>
        <td width="17%"><p align="center"><a href="..%5C..%5Cdownload/dvldv.zip">Télécharger la doc</a></p>
        </td>
        <td width="33%"><p align="center"><font size="4"><strong>V
        A P I</strong></font></p>
        </td>
        <td align="center" width="17%">&nbsp; <!--webbot
        bot="HTMLMarkup" startspan --><a href="http://www.estat.com/getstats?serial=1390118421">&nbsp;</a>
<!--webbot
        bot="HTMLMarkup" endspan --></td>
    </tr>
</tbody></table>
</center></div>

<hr>

<p><a name="Présentation"></a><font size="4"><strong>1.
Présentation</strong></font></p>

<p>VAPI (<em><strong>VISION's</strong></em> Application
Programmer Interface) est une partie de <em><strong>VISION</strong></em>
destinée à vous aider dans le développement des LDV. Vous
devez bien vous douter qu'en interne <em><strong>VISION</strong></em>
utilise un tas de fonctions permettant la gestion des images
(conversions bit-plan &lt;--&gt; index TOS/VDI, manipulation de
rasters,...) ainsi que des fonctions d'interface utilisateur
(fenêtres de progression par exemple).<br>
L'idée de VAPI est de rendre disponible aux LDV ces fonctions
jusqu'içi réservées au fonctionnement interne de <em><strong>VISION</strong></em>.
Pour un LDV, l'intérêt est double:</p>

<ul>
    <li>Son auteur évite de re-développer des fonctions déjà
        existantes</li>
    <li>Le LDV s'en trouve plus léger</li>
</ul>

<p>Bien entendu, <em><strong>VISION</strong></em> dispose de
pleins de fonctions (plus ou moins aisées et élégantes...), il
s'agit donc de faire un choix pour savoir lesquelles exporter.
D'autant plus que l'on peut imaginer que <font size="3"><em><strong>VISION</strong></em></font>
exporte aussi ses données comme le catalogue, le Browser
d'images, etc...<br>
Etant donné que cela prend quand même pas mal de temps à
concervoir et à réaliser, je ferais en sorte que <em><strong>VISION</strong></em>
exporte tout d'abord quelques fonctions
"élémentaires", puis, si le succès grandit, d'autres
viendront.</p>

<p>&nbsp;</p>

<p><a name="dev-kit"></a><font size="4"><strong>2. Kit de
développement</strong></font></p>

<p>Le kit de développement VAPI est identique à celui des LDV.
Vous le trouverez <a href="../kitdev.htm">ici</a>.</p>

<p>&nbsp;</p>

<p><a name="use"></a><font size="4"><strong>3. Utilisation</strong></font></p>

<p>Utiliser VAPI depuis un LDV est très simple : lorsque <em><strong>VISION</strong></em>
appelle la fonction <a href="../descrip.htm#capacit%E9s">GetLDVCapabilities</a>
du LDV, il vous fournit un pointeur sur une structure de type <a href="struct.htm#VAPI">VAPI</a>. Sans entrer dans le détail,
cette structure rassemble les informations suivantes:</p>

<ul>
    <li>Un entête de type <a href="struct.htm#VAPI_HEADER">VAPI_HEADER</a></li>
    <li>Une liste de fonctions "en vrac". Ces fonctions
        sont en fait rassemblées par groupe (également appelée
        interface). Chaque groupe étant terminé par une zone
        mémoire non utilisée destinée à recevoir d'autres
        fonctions du même groupe. Si de nouveaux groupes sont
        crées, ils viendront à la fin de cette structure afin
        de garantir la compatibilité ascendante.</li>
</ul>

<p>Maintenant, pour utiliser une fonction de VAPI, c'est très
simple, imaginez que vous vouliez initialiser le raster image
destination fourni passé en paramètre dans la fonction Run,

avec la couleur blanche (en bit-plans ou True Color), il vous
suffit d'insérer la ligne suivante:</p>

<p><strong>Vapi-&gt;RaImgWhite( &amp;out-&gt;Raster ) ;</strong></p>

<p>Cela suppose uniquement que vous avez récupéré le pointeur
Vapi fourni par <em><strong>VISION</strong></em> au travers de <a href="../descrip.htm#capacit%E9s">GetLDVCapabilities</a>
(automatiquement fait par le squelette).</p>

<p>La liste de toutes des fonctions définies par l'interface
VAPI sont disponibles ici. Désolé, mais toutes les interfaces
et les noms de fonctions possèdent des noms en anglais !</p>

<p>&nbsp;</p>

<p><a name="interfaces"></a><font size="4"><strong>4. Interfaces
disponibles</strong></font></p>

<p><font size="3">Les interfaces regroupent des fonctions du
même centre d'intérêt. Voici la liste (que j'espère
non-exhaustive) des interfaces actuelles:</font></p>

<table border="1" width="90%">
    <tbody><tr>
        <td align="center" width="25%"><a href="pr.htm"><font size="3">Progress Interface</font></a></td>
        <td align="center" width="25%"><a href="ra.htm"><font size="3">Raster Interface</font></a></td>
        <td align="center" width="25%"><a href="co.htm">Configuration
        Interface</a></td>
        <td align="center" width="25%"><a href="in.htm">INI
        Interface</a></td>
    </tr>
    <tr>
        <td align="center"><a href="me.htm">MEM Interface</a></td>
        <td align="center"><a href="lo.htm">Logging Interface</a>&nbsp;</td>
        <td align="center">&nbsp;</td>
        <td align="center">&nbsp;</td>
    </tr>
</tbody></table>

<p>&nbsp;</p>

<hr>
<div align="center"><center>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tbody><tr>
        <td align="center" width="17%"><a href="index.htm"><img src="../images/csom.jpg" alt="Retour au sommaire" border="0" height="26" hspace="2" width="26"></a><a href="pr.htm"><img src="../images/csuiv.jpg" alt="Chapitre suivant" border="0" height="26" hspace="2" width="43"></a></td>
        <td rowspan="2" align="center" valign="top" width="8%"><p align="center"><img src="../images/icoprinc.gif" height="71" width="59"></p>
        </td>
        <td width="33%"><p align="center"><font color="#0000ff" size="5"><strong>Documentation </strong><em><strong>VISION
        (VAPI)</strong></em></font></p>
        </td>
        <td rowspan="2" align="center" valign="top" width="8%"><p align="center"><img src="../images/icointro.gif" height="71" width="59"></p>
        </td>
        <td valign="top" width="17%"><p align="left">Dernière
        mise à jour : <!--webbot bot="Timestamp" startspan
        s-type="EDITED" s-format="%d/%m/%y" -->18/03/18<!--webbot
        bot="Timestamp" i-checksum="12442" endspan --></p>
        </td>
    </tr>
    <tr>
        <td width="17%"><p align="center"><a href="..%5C..%5Cdownload/dvldv.zip">Télécharger la doc</a></p>
        </td>
        <td width="33%"><p align="center"><font size="4"><strong>V
        A P I</strong></font></p>
        </td>
        <td valign="top" width="17%">&nbsp; </td>
    </tr>
</tbody></table>
</center></div>
</body></html>