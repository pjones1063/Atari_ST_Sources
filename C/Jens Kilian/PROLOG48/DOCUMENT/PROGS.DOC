0720103030566
1TOY Prolog Version 4Seite #
2(c) JJK 1987
9[....................................................]
ÄÅ6.âDieHilfs-undDemonstrationsprogrammeÄ

AlleindiesemKapitelangesprochenenProgrammebefindensich
imOrdner'SOURCE'.

6.1DerKlauseleditor(EDITOR)

DasProgrammEDITORdientdazu,KlauselnanbeliebigerStelle
ineinPrÑdikateinzufÅgen,siezulîschenodersiemitdem
BildschirmeditorgezieltzuverÑndern.

DerEditorwirdmit

edit(Name/Stelligkeit)

aufgerufen,umdasPrÑdikatmitdemangegebenenNamenundder
angegebenenStelligkeitzueditieren.NachdemAufruf(und
nachjedemweiterenKommando)werdendieNummerder
momentanenKlauselunddieKlauselselbstausgegeben.Die
Zahl0bedeutetdabei,daûder'Cursor'ÅvorÄderersten
Klauselsteht(indiesemFallwerdenNameundStelligkeitdes
bearbeitetenPrÑdikatszurKontrolleausgegeben).
NachderAusgabewartetderEditoraufeinesderfolgenden
Kommandos:

-Cursorbewegungetc.:

Å+ÄbewegtdenCursorzurnÑchstenKlausel
<ÅcrÄ>(leereZeile)bewirktdasselbewieÅ+Ä
Å-ÄbewegtdenCursorzurvorhergehendenKlausel
ÅbÄbewegtdenCursorzurletztenKlausel
ÅtÄbewegtdenCursorvordieersteKlausel
ÅlÄlistetalleKlauselndesbearbeitetenPrÑdikatsauf

-VerlassendesEditorsetc.:

ÅxÄverlÑûtdieaktuelleInstanzdesEditors
ÅeÄName/StelligkeitrufteineverschachtelteInstanzdes
Editorsauf
ÅpÄrufteineverschachtelteInstanzvonPrologauf(Aufruf
von'stop'bewirktRÅckkehrzumEditor)

-VerÑnderndesPrÑdikats:

ÅdÄlîschtdieaktuelleKlauselundbewegtdenCursorzur
nÑchstenKlausel
ÅiÄEinfÅgemodus:allenachfolgendenEingabenbiszum
Auftretenvon'end'werdennachderaktuellenKlausel
eingefÅgt.Klauseln,dienichtzumeditiertenPrÑdikat
gehîren,werdenabgelehnt.

ÅfÄDateinamewieÅiÄ,aberdieKlauselnwerdenausder
angegebenenDateigelesen

ÅsÄruftdenBildschirmeditorfÅrdieaktuelleKlauselauf.
ImGegensatzzuedit/3wirdhiergeprÅft,obdie
geÑnderteKlauselnochzumselbenPrÑdikatwiedie
ursprÅnglichegehîrt.

DieKommandosmÅssenjeweilssofortnachdemletztenZeichen
mit'Return'abgeschlossenwerden(àkeineLeerzeichenÄdavor
oderdanach).BeidenKommandosÅeÄundÅfÄmuûzwischendem
KommandozeichenunddemArgumentàgenaueinÄLeerzeichen
stehen;imArgumentvonÅeÄdarfkeinLeerzeichenenthalten
sein.

6.2DerProgrammanalysator(CALLTREE)

DasProgrammCALLTREEkannbenutztwerden,umdievoneinem
bestimmtenPrÑdikataufgerufenenFunktionen/PrÑdikatezu
bestimmen.Eswirdmit

calltree(Name/Stelligkeit)

aufgerufen,umdasPrÑdikatmitdemangegebenenFunktorzu
untersuchen.

FÅrjedenAufrufwirdeineZeileausgegeben,dieaus
folgendenElementenbestehenkann:

-einerZeilennummer,fallsessichumdasersteAuftreten
desentsprechendenPrÑdikatshandelt
-demFunktordesaufgerufenenPrÑdikats(Name/Stelligkeit)
-einemHinweisaufdieZeile,inderdasaufgerufene
PrÑdikatauftrat
-demHinweis,daûdasaufgerufenePrÑdikatnichtdefiniert
ist(keineKlauselnvorhanden)

DieAusgabekann(mittell(Ausgabestrom))z.B.aufden
DruckeroderineineDateiumgeleitetwerden.

6.3DerKompaktierer(COMPACT)

DerKompaktierererfÅlltzweiAufgaben:

-erbringteinProgrammineineForm,diedirektvom
Interpretergelesenwerdenkann(sieheAbschnitt3.1/3.2)
-erentferntKommentareundÅberflÅssigeLeerrÑumeundmacht
dasProgrammdadurchkleiner

DieHauptaufgabebestehtdarin,nachModifikationenander
DateiMONITOR(QuellcodederBenutzerschnittstelle)eineneue
SYSFILE.TOY-Dateizuerzeugen.

DerKompaktiererwirdmit

compact(Quelldatei,Zieldatei)

aufgerufen.

6.4EinkleinerLISP-Interpreter(LISCHP)

DiesesProgrammermîglichtdasProgrammierenineiner
winzigenUntermengevonLISP.EsistÅnichtÄalsbrauchbarer
Interpretergedacht-schlieûlichgibtesmit'XLISP'jaauch
einenpublic-domain-LISP-Interpreter.

DerInterpreterwirdmit

lisp

aufgerufen.FolgendeFunktionenwerdenunterstÅtzt:

-APPLY,FUNCALL
-CAR,CDR,CONS,LAST,LENGTH,LIST,APPEND,ASSOC,DELETE,
SUBST,REVERSE
-EXPLODE,IMPLODE
-SET,SETQ
-PLUS,+,TIMES,*,DIFFERENCE,-,QUOTIENT,/,REMAINDER,
MOD,MINUS,ADD1,SUB1,ABS,MAX,MIN
-EVAL
-MAPCAR
-ATOM,NUMBERP,ZEROP,MINUSP,PLUSP,GREATERP,LESSP,
MEMBER,NOT,NULL,AND,OR,EQUAL
-COND,SEQ,DO
-DE,DEFINE,DEFPRIM,DEFINITION
-DEFPROP,PUTPROP,GET,REMPROP
-PROLOG,STOP
-READ,PRINT,PRIN1,TERPRI
-PROTECT,CLS,STATUS,LOAD,END

DerQuelltextdesInterpreters,sowiedasBeispielprogramm
EXAMPLE.LIS,solltengenugAufschlÅssezumVerstÑndnisder
einzelnenFunktionenliefern.

6.5SymbolischesDifferenzieren(DIFF)

DiesesProgrammisteinStandardbeispielfÅrsymbolische
Arithmetik;entsprechendeProgrammedÅrfteninjedemLehrbuch
fÅrPrologzufindensein.MitdemAufruf

df(Funktion,Variable,D)

wirddieFunktionnachderVariablen(einemProlog-Literal!)
differenziertunddasErgebnismitDunifiziert.Ein
Beispiel :

à?-Ädf(sin(2*x+6),x,D).
àD=2*cos(2*x+6)Ä

6.6EinfÑrbeneiner'Landkarte'(FARBEN)

Eshandeltsichhierbeiumeinein"PrologforProgrammers"
behandelteLîsungeinesFÑrbungsproblems,diedortnacheinem
ArtikelvonPereira&Portozitiertwird.DasProgrammzum
LîsendesProblemsisterstaunlichkurzundbeweist,wiesehr
sichPrologfÅrderartigeProblemeeignet.DasProgramm
FARBENisterheblichlÑngeralsdieeigentlicheLîsung,da
diegefundenenEinfÑrbungengrafischdargestelltwerden.

6.7EinerelationaleDatenbank(TOYSQL)

DiesesProgrammstammtaus"PrologforProgrammers".Es
handeltsichumeinDatenbankprogramm,dasKommandosineiner
einfachenstrukturiertenSpracheversteht.Leiderkannin
dieserDokumentationnichtnÑheraufdasProgrammeingegangen
werden;InteressierteseienaufdasBuchverwiesen(wodas
entsprechendeKapitelimmerhin11Seiteneinnimmt,das
Listingnichteingeschlossen).

6.8TICTAC:EinSpielmitGrafik

DiesesProgrammzeigt,wiemanschonmitwenigAufwandein
Prolog-ProgrammzumgrafischenDialogmitdemBenutzer
bringenkann;eshandeltsichumeinklassischesSpielchen,
dasleiderdenNachteilhat,daûesimmerunentschieden
endet.AusdemletzgenanntenGrundwirdeherderQuelltext
vonInteressesein.

6.9HEXAPAWN:EinSpielmitGEM-UnterstÅtzung

IndiesemProgrammwurdenvielederMîglichkeitenbenutzt,
diedieGEM-Funktionenbieten.ImQuelltextfindensichviele
grundlegendeStrukturen,dieinanderenGEM-unterstÅtzten
ProgrammenVerwendungfindenkînnen.DasProgrammverwaltet
MenÅs,FensterundDialogboxenundbehandeltEreignisse.

DaseigentlicheSpielistÑhnlicheinfachwie'TIC TAC TOE';
dasProgrammwurdeaberlernfÑhigangelegt.Irgendwannistes
nichtmehrzubesiegen...

ÅAnhangA
ÄUnterschiedezurvorherigenVersion

DergrîûteUnterschiedzurvorherigenVersionistdasFehlen
desZwischencodesunddesinProloggeschriebenenParsers.
AllehierzugehîrendenPrÑdikatesindersatzlosweggefallen.
AnderSyntaxwurdehingegegennichtsgeÑndert.

VielePrÑdikatesindinzwischenalsSystemfunktionen
implementiertworden;dazugehîrenz.B.'=..'/2und
'length'/2.Weil'is'/2jetzteineSystemfunktionist,sind
dieHilfsfunktionensum/3undprod/4weggefallen.

EssindvielePrÑdikateundFunktionenneuhinzugekommen,
z.B.retell/2,prettyprint/1unddmember/2.AndereFunktionen
wurdenerweitertoderverbessert;hierzugehîrendie
Ausgabefunktionen,diejetztVariablennamenmitausgebenund
zyklischeDatenstrukturenerkennenkînnen.

DerTestmoduswurdeumeinenselektivenEinzelschrittmodus
erweitert;dieunangenehmeUnterscheidungzwischenselektivem
undallgemeinemTestmodusistweggefallen.ImTest-und
EinzelschrittmoduswerdenAufrufejetztmit'write'angezeigt
(nichtmehrmit'display'),wasdieöbersichtstark
verbessert.

DiealtenGrafikfunktionen,diesichnuraufdenBildschirm
bezogen,sindweggefallen.IhreFunktionÅbernehmendieGEM-
Funktionen,dieauchandereArbeitsstationenbenutzenkînnen.
DieGEM-FunktionenentsprecheninderNamensgebungjetztden
FunktionenausdenC-Bibliotheken.

Esgibtendlicheineneingebautenbildschirmorientierten
Editor,derdasalteassert-retract-Spielchenunddie
stÑndigeHin-undHerpendlereizwischenInterpreterund
TexteditorÅberflÅssigmacht.

DieKontrollstrukturendesInterpreterswurdenleicht
verÑndert.VorjedemAufrufwirdeineoberflÑchlicheAnalyse
dermîglichenKlauselndurchgefÅhrt,sodaûdieeigentliche
SuchenachdererstenpassendenKlauselbeschleunigtwird.
AuûerdemwirdgeprÅft,obeinAufrufzurLaufzeit
deterministischgemachtwerdenkann(sodaûdasAnlegeneines
Datenbankzeigersunnîtigist).DieseIdeestammtnichtvon
mir,sondernvonW.F.Clocksin(nachzulesenin'NewGeneration
Computing',3(1985)101-120,OHMSHALTD&Springer-Verlag).

ÅAnhangBÄ
Literaturangaben

àPrologÄ

Clocksin,W.F.undMellish,C.S.
ÅProgramminginPrologÄ
Springer-Verlag,BerlinundHeidelberg1981

Kluzniak,F.undSzpakowicz,S.(mitBien,J.S.)
ÅPrologforProgrammersÄ
AcademicPress,London1985

Hanus,M.
ÅProblemlîsenmitPrologÄ
Mikrocomputer-Praxis,B.G.Teubner,Stuttgart1986

Belli,F.
ÅEinfÅhrungindielogischeProgrammierungmitPrologÄ
BI-HochschultaschenbÅcher,BibliographischesInstitut,
Mannheim/Wien/ZÅrich1986

Giannesini,F.u.a.
ÅPrologÄ
ReiheKÅnstlicheIntelligenz,Addison-Wesley(Dtschld.)1986

Kleine-BÅning,H.
ÅProlog-GrundlagenundAnwendungenÄ
LeitfÑdenderangewandtenInformatik,B.G.Teubner,Stuttgart
1986

Sterling,S.undShapiro,E.
ÅTheArtofProlog-AdvancedProgrammingTechniquesÄ
MITPressSeriesinLogicProgramming,TheMITPress,
Cambridge(Mass.)/London1986

àGEMÄ

ÅGEMProgrammer'sReferenceVolume1:VDIÄ
ÅGEMProgrammer'sReferenceVolume2:AESÄ
DigitalResearch,Inc.

Szczepanowski,N.undGÅnther,B.
ÅDasgroûeGEM-BuchzumATARISTÄ
(NeuauflageunterdemTitel"ATARISTGEM")
DataBecker,DÅsseldorf1986

àFÅrdenNotfallÄ

Bloch,A.(Hrsg.)
ÅMurphy'sLawCOMPLETE-or-AllTheReasonsWhyEverything
GoesWrongÄ
MethuenLondonLtd.,London1985




çThat'sall,folks!
Ä
